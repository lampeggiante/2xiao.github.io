<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.0" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://2xiao.github.io/interview/promise.html"><meta property="og:site_name" content="LeetCode-JS"><meta property="og:title" content="Promise 专项练习"><meta property="og:description" content="1 Promise 的几道基础题 # 1.1 题目一 const promise1 = new Promise((resolve, reject) =&gt; { 	console.log('promise1'); }); console.log('1', promise1);"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-07-04T05:28:47.000Z"><meta property="article:author" content="2xiao"><meta property="article:modified_time" content="2024-07-04T05:28:47.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Promise 专项练习","image":[""],"dateModified":"2024-07-04T05:28:47.000Z","author":[{"@type":"Person","name":"2xiao","url":"https://github.com/2xiao"}]}</script><link rel="icon" href="/assets/image/logo.png"><title>Promise 专项练习 | LeetCode-JS</title><meta name="description" content="1 Promise 的几道基础题 # 1.1 题目一 const promise1 = new Promise((resolve, reject) =&gt; { 	console.log('promise1'); }); console.log('1', promise1);">
    <link rel="preload" href="/assets/style-InqLFSMr.css" as="style"><link rel="stylesheet" href="/assets/style-InqLFSMr.css">
    <link rel="modulepreload" href="/assets/app-GnK0vSxb.js"><link rel="modulepreload" href="/assets/promise.html-YJlCJ_Ks.js"><link rel="modulepreload" href="/assets/promise.html-OMu0IcUI.js">
    <link rel="prefetch" href="/assets/index.html-LdUudsPb.js" as="script"><link rel="prefetch" href="/assets/magic.html-kM16RA3r.js" as="script"><link rel="prefetch" href="/assets/10043.html-GS53BrAX.js" as="script"><link rel="prefetch" href="/assets/index.html-yUgE-CGJ.js" as="script"><link rel="prefetch" href="/assets/before_quit.html-5MHpDWLE.js" as="script"><link rel="prefetch" href="/assets/digital_nomad.html-vXL-WYqq.js" as="script"><link rel="prefetch" href="/assets/go_home.html-kSED3ySZ.js" as="script"><link rel="prefetch" href="/assets/grandma.html-XXa7iHg-.js" as="script"><link rel="prefetch" href="/assets/indian.html-5tq3_WoM.js" as="script"><link rel="prefetch" href="/assets/live_in_us.html-kWzCx3Lt.js" as="script"><link rel="prefetch" href="/assets/miss_bj.html-M9Qs3yzF.js" as="script"><link rel="prefetch" href="/assets/mississippi.html-1VmGYXLU.js" as="script"><link rel="prefetch" href="/assets/money.html-kkrJkT5l.js" as="script"><link rel="prefetch" href="/assets/neighbor.html-nmZ5TUMT.js" as="script"><link rel="prefetch" href="/assets/new_year.html-HFXmXKbm.js" as="script"><link rel="prefetch" href="/assets/plan_2024.html-4MpWJXMi.js" as="script"><link rel="prefetch" href="/assets/principle.html-v9BsbnL_.js" as="script"><link rel="prefetch" href="/assets/run_europe.html-ckbFmiIg.js" as="script"><link rel="prefetch" href="/assets/surrender.html-mYjuySRR.js" as="script"><link rel="prefetch" href="/assets/three_years_plan.html-y792C2vc.js" as="script"><link rel="prefetch" href="/assets/travel.html-bJHobyb5.js" as="script"><link rel="prefetch" href="/assets/where_to_go.html-3g96sbaK.js" as="script"><link rel="prefetch" href="/assets/work_overtime.html-P7gSEM_5.js" as="script"><link rel="prefetch" href="/assets/wrong_path.html-oSzuTAXb.js" as="script"><link rel="prefetch" href="/assets/index.html-EvTFLPKI.js" as="script"><link rel="prefetch" href="/assets/index.html-NoB75m_U.js" as="script"><link rel="prefetch" href="/assets/css.html-5oWEmKUh.js" as="script"><link rel="prefetch" href="/assets/html.html-yT8jWJ2j.js" as="script"><link rel="prefetch" href="/assets/http.html-9HvVVu_a.js" as="script"><link rel="prefetch" href="/assets/js.html-vEQXHXtf.js" as="script"><link rel="prefetch" href="/assets/monitor.html-C1ri4xYf.js" as="script"><link rel="prefetch" href="/assets/performance.html-DYmzLaFD.js" as="script"><link rel="prefetch" href="/assets/qa100.html-UzY6akYd.js" as="script"><link rel="prefetch" href="/assets/react.html-rHDdiOJC.js" as="script"><link rel="prefetch" href="/assets/security.html-XI4fFfsR.js" as="script"><link rel="prefetch" href="/assets/webpack.html-bGnyvaZk.js" as="script"><link rel="prefetch" href="/assets/1.html-z5xhxkzB.js" as="script"><link rel="prefetch" href="/assets/10.html-TNt8NniP.js" as="script"><link rel="prefetch" href="/assets/11.html-j81Jtutw.js" as="script"><link rel="prefetch" href="/assets/12.html-ielVijEG.js" as="script"><link rel="prefetch" href="/assets/13.html-7jYJ-dVz.js" as="script"><link rel="prefetch" href="/assets/14.html-JOVCpGzB.js" as="script"><link rel="prefetch" href="/assets/15.html-UYGjRk_1.js" as="script"><link rel="prefetch" href="/assets/16.html-Gn3uhzE5.js" as="script"><link rel="prefetch" href="/assets/2.html-47coo0YW.js" as="script"><link rel="prefetch" href="/assets/3.html-ohdmRRq8.js" as="script"><link rel="prefetch" href="/assets/4.html-Ev9W8_GE.js" as="script"><link rel="prefetch" href="/assets/5.html-sUc8cARr.js" as="script"><link rel="prefetch" href="/assets/6.html-R5mSHTpv.js" as="script"><link rel="prefetch" href="/assets/7.html-MUwThxr2.js" as="script"><link rel="prefetch" href="/assets/8.html-J3kiSob2.js" as="script"><link rel="prefetch" href="/assets/9.html-nd3DjA_0.js" as="script"><link rel="prefetch" href="/assets/index.html-iqhiempc.js" as="script"><link rel="prefetch" href="/assets/1.html-b2R8E_37.js" as="script"><link rel="prefetch" href="/assets/10.html-12sFlpoN.js" as="script"><link rel="prefetch" href="/assets/11.html-bTUFyvlE.js" as="script"><link rel="prefetch" href="/assets/12.html-KcXFD324.js" as="script"><link rel="prefetch" href="/assets/13.html-itGAwhEO.js" as="script"><link rel="prefetch" href="/assets/14.html-Lfgejwh1.js" as="script"><link rel="prefetch" href="/assets/15.html-n8HECqVr.js" as="script"><link rel="prefetch" href="/assets/16.html-fuOpIuzd.js" as="script"><link rel="prefetch" href="/assets/17.html-4JwefWvd.js" as="script"><link rel="prefetch" href="/assets/18.html-XrCv5tKh.js" as="script"><link rel="prefetch" href="/assets/19.html-R3kbrpCA.js" as="script"><link rel="prefetch" href="/assets/2.html-mW_650Sp.js" as="script"><link rel="prefetch" href="/assets/20.html-QhXcfE4U.js" as="script"><link rel="prefetch" href="/assets/21.html-_-EjJbas.js" as="script"><link rel="prefetch" href="/assets/22.html-Kv04gwXW.js" as="script"><link rel="prefetch" href="/assets/23.html-BGUCy-l8.js" as="script"><link rel="prefetch" href="/assets/24.html-r3jxw-Jv.js" as="script"><link rel="prefetch" href="/assets/3.html-pQ_cPnWR.js" as="script"><link rel="prefetch" href="/assets/4.html-g2jZ0sUr.js" as="script"><link rel="prefetch" href="/assets/5.html-F-UaB4G0.js" as="script"><link rel="prefetch" href="/assets/6.html-YlmdslA0.js" as="script"><link rel="prefetch" href="/assets/7.html-9eL0Ng9y.js" as="script"><link rel="prefetch" href="/assets/8.html--A_ktvg1.js" as="script"><link rel="prefetch" href="/assets/9.html-L731rwsQ.js" as="script"><link rel="prefetch" href="/assets/index.html-MDFCifsr.js" as="script"><link rel="prefetch" href="/assets/index.html-6WjlPFOg.js" as="script"><link rel="prefetch" href="/assets/backtracking.html-lXFLYQZv.js" as="script"><link rel="prefetch" href="/assets/binary_search.html-VQUsKKod.js" as="script"><link rel="prefetch" href="/assets/bit.html-ElrXihUs.js" as="script"><link rel="prefetch" href="/assets/divide_conquer.html-lYjA-Pjs.js" as="script"><link rel="prefetch" href="/assets/dynamic_programming.html-i2eJyw1E.js" as="script"><link rel="prefetch" href="/assets/enumeration.html-PtJT1d6h.js" as="script"><link rel="prefetch" href="/assets/greed.html-eYpkJHw8.js" as="script"><link rel="prefetch" href="/assets/recursion.html-PJhUwS_0.js" as="script"><link rel="prefetch" href="/assets/slide_window.html-EuJSclmr.js" as="script"><link rel="prefetch" href="/assets/sort.html-7nPfKGH9.js" as="script"><link rel="prefetch" href="/assets/two_pointer.html-icqZoiz4.js" as="script"><link rel="prefetch" href="/assets/index.html-gwxJhiUc.js" as="script"><link rel="prefetch" href="/assets/array.html-rsJ3BI5C.js" as="script"><link rel="prefetch" href="/assets/graph.html-fUe0CEsV.js" as="script"><link rel="prefetch" href="/assets/hash_table.html-gLB9Qcgv.js" as="script"><link rel="prefetch" href="/assets/heap.html-RuDHddHf.js" as="script"><link rel="prefetch" href="/assets/linked_list.html-Pf59y6oG.js" as="script"><link rel="prefetch" href="/assets/queue.html-4TgF3xEL.js" as="script"><link rel="prefetch" href="/assets/stack.html-e3legRGb.js" as="script"><link rel="prefetch" href="/assets/string.html-NWwTKqfl.js" as="script"><link rel="prefetch" href="/assets/tree.html-8PgzndSv.js" as="script"><link rel="prefetch" href="/assets/index.html-R8kDpnIx.js" as="script"><link rel="prefetch" href="/assets/complexity.html-_BUUlor0.js" as="script"><link rel="prefetch" href="/assets/intro.html-a3yjEuXN.js" as="script"><link rel="prefetch" href="/assets/solution_list.html-dtGts2nu.js" as="script"><link rel="prefetch" href="/assets/index.html-ruIFGKuk.js" as="script"><link rel="prefetch" href="/assets/codetop_list.html-On9JWFS1.js" as="script"><link rel="prefetch" href="/assets/company_list.html-qN3-adtM.js" as="script"><link rel="prefetch" href="/assets/offer2_list.html-jeU3Enk3.js" as="script"><link rel="prefetch" href="/assets/offer_list.html-AreJKhQv.js" as="script"><link rel="prefetch" href="/assets/rabbit_list.html-oHyj4fWS.js" as="script"><link rel="prefetch" href="/assets/top_150_list.html-VTEEsimM.js" as="script"><link rel="prefetch" href="/assets/top_200_list.html-pFvmzKyb.js" as="script"><link rel="prefetch" href="/assets/top_300_list.html-Mn8iee6q.js" as="script"><link rel="prefetch" href="/assets/0001.html-2sm7ymCg.js" as="script"><link rel="prefetch" href="/assets/0002.html-Szp_Dwth.js" as="script"><link rel="prefetch" href="/assets/0003.html-S3UZDwJK.js" as="script"><link rel="prefetch" href="/assets/0004.html-io0Y5y6i.js" as="script"><link rel="prefetch" href="/assets/0005.html-EH0UkdOp.js" as="script"><link rel="prefetch" href="/assets/0006.html-iA50elue.js" as="script"><link rel="prefetch" href="/assets/0007.html-Z7Q4dzAC.js" as="script"><link rel="prefetch" href="/assets/0008.html-THJmemul.js" as="script"><link rel="prefetch" href="/assets/0009.html-qPXm0HDf.js" as="script"><link rel="prefetch" href="/assets/0010.html-aQAQtEAM.js" as="script"><link rel="prefetch" href="/assets/0011.html-3_BTZSa4.js" as="script"><link rel="prefetch" href="/assets/0012.html-Mpf4bmza.js" as="script"><link rel="prefetch" href="/assets/0013.html-VxIgoBpD.js" as="script"><link rel="prefetch" href="/assets/0014.html-URfN2yv_.js" as="script"><link rel="prefetch" href="/assets/0015.html-SNyAJDWW.js" as="script"><link rel="prefetch" href="/assets/0016.html-ZT9DxPO6.js" as="script"><link rel="prefetch" href="/assets/0017.html-IhJ1ymoX.js" as="script"><link rel="prefetch" href="/assets/0018.html-RVMHJUaf.js" as="script"><link rel="prefetch" href="/assets/0019.html--8maBa1V.js" as="script"><link rel="prefetch" href="/assets/0020.html-QcK94PWZ.js" as="script"><link rel="prefetch" href="/assets/0021.html-f3yZ11F_.js" as="script"><link rel="prefetch" href="/assets/0022.html-awXkrH1d.js" as="script"><link rel="prefetch" href="/assets/0023.html-Fj_e753E.js" as="script"><link rel="prefetch" href="/assets/0024.html-kXLmJ_4d.js" as="script"><link rel="prefetch" href="/assets/0025.html-LIw6Fm1C.js" as="script"><link rel="prefetch" href="/assets/0026.html-bH23IayK.js" as="script"><link rel="prefetch" href="/assets/0027.html-NwpMmqe8.js" as="script"><link rel="prefetch" href="/assets/0028.html-cg2Nv0Ck.js" as="script"><link rel="prefetch" href="/assets/0029.html-bnZAyKZN.js" as="script"><link rel="prefetch" href="/assets/0030.html-RWyXnfGx.js" as="script"><link rel="prefetch" href="/assets/0031.html-yOyzJ4Js.js" as="script"><link rel="prefetch" href="/assets/0032.html-Sx6cPKbs.js" as="script"><link rel="prefetch" href="/assets/0033.html-7V6_nkzO.js" as="script"><link rel="prefetch" href="/assets/0034.html-SRBU73vX.js" as="script"><link rel="prefetch" href="/assets/0035.html-f7c1lLj1.js" as="script"><link rel="prefetch" href="/assets/0036.html-QqKYdSSP.js" as="script"><link rel="prefetch" href="/assets/0037.html--FXwAvSz.js" as="script"><link rel="prefetch" href="/assets/0038.html-OZD0DZBU.js" as="script"><link rel="prefetch" href="/assets/0039.html-1XUzoMjL.js" as="script"><link rel="prefetch" href="/assets/0040.html--VxDX-Er.js" as="script"><link rel="prefetch" href="/assets/0041.html-WOlg1EVu.js" as="script"><link rel="prefetch" href="/assets/0042.html-QIz8r779.js" as="script"><link rel="prefetch" href="/assets/0043.html-XSeCc6Br.js" as="script"><link rel="prefetch" href="/assets/0044.html-foS1qr5F.js" as="script"><link rel="prefetch" href="/assets/0045.html-f0F4QBlU.js" as="script"><link rel="prefetch" href="/assets/0046.html-M0idU0dz.js" as="script"><link rel="prefetch" href="/assets/0047.html-Y0_tKAee.js" as="script"><link rel="prefetch" href="/assets/0048.html-IkzlI6t0.js" as="script"><link rel="prefetch" href="/assets/0049.html-Use1jiEY.js" as="script"><link rel="prefetch" href="/assets/0050.html-237i8CFZ.js" as="script"><link rel="prefetch" href="/assets/0051.html-OmdGybbF.js" as="script"><link rel="prefetch" href="/assets/0052.html-RkTA0Jjt.js" as="script"><link rel="prefetch" href="/assets/0053.html-HzWrXlFQ.js" as="script"><link rel="prefetch" href="/assets/0054.html-qZp31a8W.js" as="script"><link rel="prefetch" href="/assets/0055.html--TCGmOJ6.js" as="script"><link rel="prefetch" href="/assets/0056.html-HeizYsG1.js" as="script"><link rel="prefetch" href="/assets/0057.html-0dPuO5J4.js" as="script"><link rel="prefetch" href="/assets/0058.html-z7hp5CfH.js" as="script"><link rel="prefetch" href="/assets/0059.html-d4CKIgI-.js" as="script"><link rel="prefetch" href="/assets/0061.html-TauHBYGj.js" as="script"><link rel="prefetch" href="/assets/0062.html-5hyRww4D.js" as="script"><link rel="prefetch" href="/assets/0063.html-3rMHy8JJ.js" as="script"><link rel="prefetch" href="/assets/0064.html-ZvaqN4DB.js" as="script"><link rel="prefetch" href="/assets/0066.html-tEykQzBQ.js" as="script"><link rel="prefetch" href="/assets/0067.html-YtzPCvKe.js" as="script"><link rel="prefetch" href="/assets/0068.html-MLyMn27E.js" as="script"><link rel="prefetch" href="/assets/0069.html-3n0Qm_JT.js" as="script"><link rel="prefetch" href="/assets/0070.html-2XmdHvmZ.js" as="script"><link rel="prefetch" href="/assets/0071.html-rc0SISoO.js" as="script"><link rel="prefetch" href="/assets/0072.html-L_iPnmPW.js" as="script"><link rel="prefetch" href="/assets/0073.html-1kQfIAzx.js" as="script"><link rel="prefetch" href="/assets/0074.html-Vkioanfw.js" as="script"><link rel="prefetch" href="/assets/0075.html-Vz6ju9E1.js" as="script"><link rel="prefetch" href="/assets/0076.html-_QWjTxWg.js" as="script"><link rel="prefetch" href="/assets/0077.html-JrGthKW6.js" as="script"><link rel="prefetch" href="/assets/0078.html-pz3RyqRc.js" as="script"><link rel="prefetch" href="/assets/0079.html-TMNWAmQR.js" as="script"><link rel="prefetch" href="/assets/0080.html-1C0Lt6bP.js" as="script"><link rel="prefetch" href="/assets/0081.html-8ve3VGFp.js" as="script"><link rel="prefetch" href="/assets/0082.html-1y332OLX.js" as="script"><link rel="prefetch" href="/assets/0083.html-PVFc-p4L.js" as="script"><link rel="prefetch" href="/assets/0084.html-59DcL2xJ.js" as="script"><link rel="prefetch" href="/assets/0085.html-mIAgD2em.js" as="script"><link rel="prefetch" href="/assets/0086.html-M5GBlric.js" as="script"><link rel="prefetch" href="/assets/0088.html-ak4YDJQu.js" as="script"><link rel="prefetch" href="/assets/0090.html-Jt_sxC_I.js" as="script"><link rel="prefetch" href="/assets/0092.html-Esoj_hl5.js" as="script"><link rel="prefetch" href="/assets/0093.html-1wcLlP64.js" as="script"><link rel="prefetch" href="/assets/0094.html-vQeb13db.js" as="script"><link rel="prefetch" href="/assets/0095.html-YOZ5VNXv.js" as="script"><link rel="prefetch" href="/assets/0096.html-4WEc9i_1.js" as="script"><link rel="prefetch" href="/assets/0097.html-7iS24w_u.js" as="script"><link rel="prefetch" href="/assets/0098.html-L9Vym_MT.js" as="script"><link rel="prefetch" href="/assets/0099.html-Q8I6NueY.js" as="script"><link rel="prefetch" href="/assets/0100.html-q5QRDjUo.js" as="script"><link rel="prefetch" href="/assets/0101.html-AeZlfw7B.js" as="script"><link rel="prefetch" href="/assets/0102.html-iQuw8kai.js" as="script"><link rel="prefetch" href="/assets/0103.html-0Idmbij3.js" as="script"><link rel="prefetch" href="/assets/0104.html-IPIBIHBU.js" as="script"><link rel="prefetch" href="/assets/0105.html-uc-VnOot.js" as="script"><link rel="prefetch" href="/assets/0106.html-yoBV1nEV.js" as="script"><link rel="prefetch" href="/assets/0107.html-jc3OjWPL.js" as="script"><link rel="prefetch" href="/assets/0108.html-FBxBVAes.js" as="script"><link rel="prefetch" href="/assets/0109.html-zXLyat51.js" as="script"><link rel="prefetch" href="/assets/0110.html-N8CHcf4w.js" as="script"><link rel="prefetch" href="/assets/0111.html-BtR3ujbB.js" as="script"><link rel="prefetch" href="/assets/0112.html-6c33FL9Q.js" as="script"><link rel="prefetch" href="/assets/0113.html-8_AIByO5.js" as="script"><link rel="prefetch" href="/assets/0114.html-ItdiwCHU.js" as="script"><link rel="prefetch" href="/assets/0116.html-Cbuhvr7V.js" as="script"><link rel="prefetch" href="/assets/0117.html-r1zzCLmO.js" as="script"><link rel="prefetch" href="/assets/0118.html-YjGIJJQk.js" as="script"><link rel="prefetch" href="/assets/0120.html-gj7MiEem.js" as="script"><link rel="prefetch" href="/assets/0121.html-kArq7kYl.js" as="script"><link rel="prefetch" href="/assets/0122.html-puYcfSiZ.js" as="script"><link rel="prefetch" href="/assets/0123.html-aHC8If2R.js" as="script"><link rel="prefetch" href="/assets/0124.html-LGQpYjLX.js" as="script"><link rel="prefetch" href="/assets/0125.html-_1ERG-Od.js" as="script"><link rel="prefetch" href="/assets/0127.html-vEy-DDio.js" as="script"><link rel="prefetch" href="/assets/0128.html-lM2uYWl_.js" as="script"><link rel="prefetch" href="/assets/0129.html-D1PWAfMB.js" as="script"><link rel="prefetch" href="/assets/0130.html-iGBV8Txi.js" as="script"><link rel="prefetch" href="/assets/0131.html-zWRNHSaF.js" as="script"><link rel="prefetch" href="/assets/0133.html-CILV3Fyt.js" as="script"><link rel="prefetch" href="/assets/0134.html-Gqc3KED-.js" as="script"><link rel="prefetch" href="/assets/0135.html-9ZonsYzw.js" as="script"><link rel="prefetch" href="/assets/0136.html-tlsiGfR-.js" as="script"><link rel="prefetch" href="/assets/0137.html-HxKG1WSZ.js" as="script"><link rel="prefetch" href="/assets/0138.html-4wZQhINP.js" as="script"><link rel="prefetch" href="/assets/0139.html-quQeln2e.js" as="script"><link rel="prefetch" href="/assets/0141.html-VlBXdgnz.js" as="script"><link rel="prefetch" href="/assets/0142.html-NY_R7Td-.js" as="script"><link rel="prefetch" href="/assets/0143.html-0RD9P6n2.js" as="script"><link rel="prefetch" href="/assets/0144.html-hBY_8v4i.js" as="script"><link rel="prefetch" href="/assets/0145.html-tFMzegfQ.js" as="script"><link rel="prefetch" href="/assets/0146.html-f-a9BGRg.js" as="script"><link rel="prefetch" href="/assets/0147.html-gmLDb6RO.js" as="script"><link rel="prefetch" href="/assets/0148.html-LofyqcAg.js" as="script"><link rel="prefetch" href="/assets/0149.html-1uhglmxH.js" as="script"><link rel="prefetch" href="/assets/0150.html-UObuE03r.js" as="script"><link rel="prefetch" href="/assets/0151.html-QD_032R4.js" as="script"><link rel="prefetch" href="/assets/0152.html-zTIDZono.js" as="script"><link rel="prefetch" href="/assets/0153.html-M1GEu3E1.js" as="script"><link rel="prefetch" href="/assets/0154.html-Ht8OkzSj.js" as="script"><link rel="prefetch" href="/assets/0155.html-u-BSjLWt.js" as="script"><link rel="prefetch" href="/assets/0156.html-dAv9ANdK.js" as="script"><link rel="prefetch" href="/assets/0160.html-ECo_Dloh.js" as="script"><link rel="prefetch" href="/assets/0162.html-4Deb-uFM.js" as="script"><link rel="prefetch" href="/assets/0167.html-WgEPA87P.js" as="script"><link rel="prefetch" href="/assets/0169.html-sAQgjKiK.js" as="script"><link rel="prefetch" href="/assets/0172.html-WfN_VnTC.js" as="script"><link rel="prefetch" href="/assets/0173.html-CSvocwxM.js" as="script"><link rel="prefetch" href="/assets/0174.html-tzIon6eq.js" as="script"><link rel="prefetch" href="/assets/0188.html-0XOJSKHN.js" as="script"><link rel="prefetch" href="/assets/0189.html-86Pimbdg.js" as="script"><link rel="prefetch" href="/assets/0190.html-YokBhQ3e.js" as="script"><link rel="prefetch" href="/assets/0191.html-1d41qslz.js" as="script"><link rel="prefetch" href="/assets/0198.html-9xRu9cUl.js" as="script"><link rel="prefetch" href="/assets/0199.html-gWM0jyFv.js" as="script"><link rel="prefetch" href="/assets/0200.html-zbEIcmwj.js" as="script"><link rel="prefetch" href="/assets/0201.html-bflP5UpY.js" as="script"><link rel="prefetch" href="/assets/0202.html-DWwktiYj.js" as="script"><link rel="prefetch" href="/assets/0203.html-wFeNrMVK.js" as="script"><link rel="prefetch" href="/assets/0205.html-dpVIQzNu.js" as="script"><link rel="prefetch" href="/assets/0206.html-Girt22xm.js" as="script"><link rel="prefetch" href="/assets/0207.html-cJQMeIbP.js" as="script"><link rel="prefetch" href="/assets/0208.html-wu4GhLHN.js" as="script"><link rel="prefetch" href="/assets/0209.html-Nf5M6yV0.js" as="script"><link rel="prefetch" href="/assets/0210.html-tjf1KIP1.js" as="script"><link rel="prefetch" href="/assets/0211.html-ztQAjQTf.js" as="script"><link rel="prefetch" href="/assets/0212.html-q7hE1ewU.js" as="script"><link rel="prefetch" href="/assets/0215.html-ANkZ1UPU.js" as="script"><link rel="prefetch" href="/assets/0216.html-rx14sE5Y.js" as="script"><link rel="prefetch" href="/assets/0217.html-G4jf9kLl.js" as="script"><link rel="prefetch" href="/assets/0219.html-CVWAM0jL.js" as="script"><link rel="prefetch" href="/assets/0221.html-Kb-mwqBQ.js" as="script"><link rel="prefetch" href="/assets/0222.html-mMEAyK1p.js" as="script"><link rel="prefetch" href="/assets/0224.html-G0PkrhJF.js" as="script"><link rel="prefetch" href="/assets/0225.html-lpl-YA5F.js" as="script"><link rel="prefetch" href="/assets/0226.html-aLKNKEIP.js" as="script"><link rel="prefetch" href="/assets/0227.html-eQrC9lxw.js" as="script"><link rel="prefetch" href="/assets/0228.html-09xME3MA.js" as="script"><link rel="prefetch" href="/assets/0230.html-1CQNAJWs.js" as="script"><link rel="prefetch" href="/assets/0232.html-sp-b20c3.js" as="script"><link rel="prefetch" href="/assets/0234.html-QnCjcKzH.js" as="script"><link rel="prefetch" href="/assets/0235.html-xPjS8EDV.js" as="script"><link rel="prefetch" href="/assets/0236.html-8eNtS8gp.js" as="script"><link rel="prefetch" href="/assets/0237.html-pusMKk1O.js" as="script"><link rel="prefetch" href="/assets/0238.html-QZXBm-mL.js" as="script"><link rel="prefetch" href="/assets/0239.html-d_7j3sx4.js" as="script"><link rel="prefetch" href="/assets/0240.html-e3PsJrxs.js" as="script"><link rel="prefetch" href="/assets/0242.html-gg073pnw.js" as="script"><link rel="prefetch" href="/assets/0257.html-DofA0vhX.js" as="script"><link rel="prefetch" href="/assets/0259.html-uDaOWjva.js" as="script"><link rel="prefetch" href="/assets/0264.html-ndu3haqX.js" as="script"><link rel="prefetch" href="/assets/0268.html-FUZ53bAT.js" as="script"><link rel="prefetch" href="/assets/0274.html-bG33vhwd.js" as="script"><link rel="prefetch" href="/assets/0275.html-g45PALsz.js" as="script"><link rel="prefetch" href="/assets/0278.html-OUcOW9iu.js" as="script"><link rel="prefetch" href="/assets/0279.html-umRKtr5E.js" as="script"><link rel="prefetch" href="/assets/0283.html-R2PiTlbP.js" as="script"><link rel="prefetch" href="/assets/0287.html-GuhFe666.js" as="script"><link rel="prefetch" href="/assets/0289.html-UfjZX8eY.js" as="script"><link rel="prefetch" href="/assets/0290.html-F6Eq3LRP.js" as="script"><link rel="prefetch" href="/assets/0295.html-1cf2jVa8.js" as="script"><link rel="prefetch" href="/assets/0297.html-HiDpjtNv.js" as="script"><link rel="prefetch" href="/assets/0300.html-Hd2LA87V.js" as="script"><link rel="prefetch" href="/assets/0303.html-bfJbRICM.js" as="script"><link rel="prefetch" href="/assets/0307.html-Ns4_1Kyd.js" as="script"><link rel="prefetch" href="/assets/0309.html-GnoBLO4C.js" as="script"><link rel="prefetch" href="/assets/0316.html-pW0s1kq5.js" as="script"><link rel="prefetch" href="/assets/0322.html-nBh0kKEB.js" as="script"><link rel="prefetch" href="/assets/0328.html-PthPyJzT.js" as="script"><link rel="prefetch" href="/assets/0343.html-jR5_vAYm.js" as="script"><link rel="prefetch" href="/assets/0344.html--QJwB3Ts.js" as="script"><link rel="prefetch" href="/assets/0345.html--zE-GSfK.js" as="script"><link rel="prefetch" href="/assets/0346.html-6aesI3yr.js" as="script"><link rel="prefetch" href="/assets/0347.html-HANdLQnX.js" as="script"><link rel="prefetch" href="/assets/0354.html-9fi0_AXL.js" as="script"><link rel="prefetch" href="/assets/0355.html-_BoDnXQj.js" as="script"><link rel="prefetch" href="/assets/0366.html-5vROP_FI.js" as="script"><link rel="prefetch" href="/assets/0369.html-BSeKlZxv.js" as="script"><link rel="prefetch" href="/assets/0373.html-PasGqzFs.js" as="script"><link rel="prefetch" href="/assets/0374.html-AZvm_hTz.js" as="script"><link rel="prefetch" href="/assets/0375.html-LdLSUr8W.js" as="script"><link rel="prefetch" href="/assets/0378.html-yfRzlHjr.js" as="script"><link rel="prefetch" href="/assets/0379.html-b1-KJ1tJ.js" as="script"><link rel="prefetch" href="/assets/0380.html-j_jN-UII.js" as="script"><link rel="prefetch" href="/assets/0382.html-0F6Kfs3t.js" as="script"><link rel="prefetch" href="/assets/0383.html-AlBYRNjJ.js" as="script"><link rel="prefetch" href="/assets/0392.html-rzrYTYJ4.js" as="script"><link rel="prefetch" href="/assets/0394.html-32wvZpUV.js" as="script"><link rel="prefetch" href="/assets/0399.html-k0PGhQrR.js" as="script"><link rel="prefetch" href="/assets/0415.html-NvFL9aWx.js" as="script"><link rel="prefetch" href="/assets/0416.html-3TtzN6RM.js" as="script"><link rel="prefetch" href="/assets/0426.html-850ehZ1P.js" as="script"><link rel="prefetch" href="/assets/0427.html-uQB_b35b.js" as="script"><link rel="prefetch" href="/assets/0430.html-NwWWWZiW.js" as="script"><link rel="prefetch" href="/assets/0432.html-VQ8bLJYe.js" as="script"><link rel="prefetch" href="/assets/0433.html-rAAATXh5.js" as="script"><link rel="prefetch" href="/assets/0437.html-BHFBZ5yf.js" as="script"><link rel="prefetch" href="/assets/0438.html-wLFEfvcg.js" as="script"><link rel="prefetch" href="/assets/0440.html-OU3B39v7.js" as="script"><link rel="prefetch" href="/assets/0442.html-7qy-gWlr.js" as="script"><link rel="prefetch" href="/assets/0445.html-w-NElyqT.js" as="script"><link rel="prefetch" href="/assets/0450.html-2rE1xTCo.js" as="script"><link rel="prefetch" href="/assets/0451.html-qw1e7LQQ.js" as="script"><link rel="prefetch" href="/assets/0452.html-upwEFzQ8.js" as="script"><link rel="prefetch" href="/assets/0459.html-NftzpRT-.js" as="script"><link rel="prefetch" href="/assets/0474.html-ag5zMHph.js" as="script"><link rel="prefetch" href="/assets/0485.html-7MDP8Tty.js" as="script"><link rel="prefetch" href="/assets/0494.html-Kj6KWC94.js" as="script"><link rel="prefetch" href="/assets/0496.html-PSKMCv0I.js" as="script"><link rel="prefetch" href="/assets/0498.html-9-etn5hf.js" as="script"><link rel="prefetch" href="/assets/0502.html-mCNvm6xI.js" as="script"><link rel="prefetch" href="/assets/0503.html-MTGpa_7W.js" as="script"><link rel="prefetch" href="/assets/0506.html-YV4HCZ_r.js" as="script"><link rel="prefetch" href="/assets/0509.html-q100TeGt.js" as="script"><link rel="prefetch" href="/assets/0514.html-L8NIqLwX.js" as="script"><link rel="prefetch" href="/assets/0516.html-lkd9tnir.js" as="script"><link rel="prefetch" href="/assets/0518.html-LKyJQd_E.js" as="script"><link rel="prefetch" href="/assets/0530.html-acEH6Ae6.js" as="script"><link rel="prefetch" href="/assets/0543.html-cC369D2G.js" as="script"><link rel="prefetch" href="/assets/0557.html-yxP4WoMB.js" as="script"><link rel="prefetch" href="/assets/0559.html-njGa5tkN.js" as="script"><link rel="prefetch" href="/assets/0560.html-1lnuYd8H.js" as="script"><link rel="prefetch" href="/assets/0567.html-haoFxyXu.js" as="script"><link rel="prefetch" href="/assets/0572.html-czQU8nhO.js" as="script"><link rel="prefetch" href="/assets/0583.html-mDYmCIMu.js" as="script"><link rel="prefetch" href="/assets/0589.html-hmuZ-4tb.js" as="script"><link rel="prefetch" href="/assets/0590.html--jJDpvkX.js" as="script"><link rel="prefetch" href="/assets/0611.html-n0V1TErn.js" as="script"><link rel="prefetch" href="/assets/0617.html-xPmwBcT7.js" as="script"><link rel="prefetch" href="/assets/0622.html-Najfy3r3.js" as="script"><link rel="prefetch" href="/assets/0632.html-AM3QoAZj.js" as="script"><link rel="prefetch" href="/assets/0637.html-y6tBHxam.js" as="script"><link rel="prefetch" href="/assets/0641.html-DvbbGDzA.js" as="script"><link rel="prefetch" href="/assets/0654.html-0JGanvkA.js" as="script"><link rel="prefetch" href="/assets/0662.html-T25SLAMA.js" as="script"><link rel="prefetch" href="/assets/0670.html-Byls0vIe.js" as="script"><link rel="prefetch" href="/assets/0678.html-6oOt5FAR.js" as="script"><link rel="prefetch" href="/assets/0682.html-Ctv1rXHs.js" as="script"><link rel="prefetch" href="/assets/0695.html-AtbdhkRr.js" as="script"><link rel="prefetch" href="/assets/0700.html-B68-eYYv.js" as="script"><link rel="prefetch" href="/assets/0701.html-MnJifpSd.js" as="script"><link rel="prefetch" href="/assets/0703.html-ouJsVGwO.js" as="script"><link rel="prefetch" href="/assets/0704.html-Fg1Rd0Qu.js" as="script"><link rel="prefetch" href="/assets/0705.html-R2Q-a5ZR.js" as="script"><link rel="prefetch" href="/assets/0706.html-UzzjBd6L.js" as="script"><link rel="prefetch" href="/assets/0707.html-a2BYP9JH.js" as="script"><link rel="prefetch" href="/assets/0712.html-R6kSeQ1M.js" as="script"><link rel="prefetch" href="/assets/0714.html-05Lj0gtM.js" as="script"><link rel="prefetch" href="/assets/0724.html-HpW6yj--.js" as="script"><link rel="prefetch" href="/assets/0729.html-A3ESSjhJ.js" as="script"><link rel="prefetch" href="/assets/0731.html-VMgPbXTk.js" as="script"><link rel="prefetch" href="/assets/0739.html-1YRGB10f.js" as="script"><link rel="prefetch" href="/assets/0763.html-daewEyKt.js" as="script"><link rel="prefetch" href="/assets/0772.html-MPjP8sxR.js" as="script"><link rel="prefetch" href="/assets/0783.html--V5587rO.js" as="script"><link rel="prefetch" href="/assets/0844.html-a5xCPbv1.js" as="script"><link rel="prefetch" href="/assets/0876.html-gBanqSB2.js" as="script"><link rel="prefetch" href="/assets/0880.html-q8AE_TUm.js" as="script"><link rel="prefetch" href="/assets/0889.html-W7UdgEVc.js" as="script"><link rel="prefetch" href="/assets/0909.html-KnM-bOMy.js" as="script"><link rel="prefetch" href="/assets/0918.html-QbktOxyU.js" as="script"><link rel="prefetch" href="/assets/0921.html--nFR7h3B.js" as="script"><link rel="prefetch" href="/assets/0931.html-Mz4ui7Lp.js" as="script"><link rel="prefetch" href="/assets/0945.html-KKuyCdlf.js" as="script"><link rel="prefetch" href="/assets/0946.html-KVFDCjmc.js" as="script"><link rel="prefetch" href="/assets/0954.html-Oe0WoPDF.js" as="script"><link rel="prefetch" href="/assets/0958.html-vIgmY_pm.js" as="script"><link rel="prefetch" href="/assets/0962.html-wsJiqlNN.js" as="script"><link rel="prefetch" href="/assets/0973.html-_Wzmp3WG.js" as="script"><link rel="prefetch" href="/assets/0986.html-4Dt9wjTh.js" as="script"><link rel="prefetch" href="/assets/0994.html-gCVFw6W7.js" as="script"><link rel="prefetch" href="/assets/1008.html--w6o2paJ.js" as="script"><link rel="prefetch" href="/assets/1021.html-j4bQVU5f.js" as="script"><link rel="prefetch" href="/assets/1047.html-CMPSBM4Z.js" as="script"><link rel="prefetch" href="/assets/1049.html-MKnNUveH.js" as="script"><link rel="prefetch" href="/assets/1081.html-Sc4CI0Cd.js" as="script"><link rel="prefetch" href="/assets/1137.html-Bs-Lrx2d.js" as="script"><link rel="prefetch" href="/assets/1143.html-0-rn8tI-.js" as="script"><link rel="prefetch" href="/assets/1190.html-oaTpouuD.js" as="script"><link rel="prefetch" href="/assets/1288.html-TyVj6Fh2.js" as="script"><link rel="prefetch" href="/assets/1312.html-AHeohvUS.js" as="script"><link rel="prefetch" href="/assets/1331.html-lLJm_Ri9.js" as="script"><link rel="prefetch" href="/assets/1381.html-l0P_7ff8.js" as="script"><link rel="prefetch" href="/assets/1405.html-d5wJvV8Y.js" as="script"><link rel="prefetch" href="/assets/1419.html-WclEYbpn.js" as="script"><link rel="prefetch" href="/assets/1441.html-JtT1dga_.js" as="script"><link rel="prefetch" href="/assets/1472.html-pbwImRP6.js" as="script"><link rel="prefetch" href="/assets/1475.html-E59f9g24.js" as="script"><link rel="prefetch" href="/assets/1497.html-R1lz1aES.js" as="script"><link rel="prefetch" href="/assets/1522.html-CwBOpBIn.js" as="script"><link rel="prefetch" href="/assets/1590.html-UnfzQwkS.js" as="script"><link rel="prefetch" href="/assets/1813.html-geCM69iz.js" as="script"><link rel="prefetch" href="/assets/1942.html-vpducTXe.js" as="script"><link rel="prefetch" href="/assets/1963.html-lvNWzwLz.js" as="script"><link rel="prefetch" href="/assets/2044.html-9DOrOPq9.js" as="script"><link rel="prefetch" href="/assets/2196.html-RtEinzk7.js" as="script"><link rel="prefetch" href="/assets/2259.html-SWrghffD.js" as="script"><link rel="prefetch" href="/assets/2260.html-hlcL5xTm.js" as="script"><link rel="prefetch" href="/assets/2261.html-IFwkrAyJ.js" as="script"><link rel="prefetch" href="/assets/2262.html-m8vPoIfg.js" as="script"><link rel="prefetch" href="/assets/2406.html-xSLGgFee.js" as="script"><link rel="prefetch" href="/assets/2416.html-ezZ9jHQ0.js" as="script"><link rel="prefetch" href="/assets/2491.html-MdWOsU4y.js" as="script"><link rel="prefetch" href="/assets/2530.html-TKCsQ5bg.js" as="script"><link rel="prefetch" href="/assets/2619.html-h5N3pfUN.js" as="script"><link rel="prefetch" href="/assets/2620.html-AfudnqDZ.js" as="script"><link rel="prefetch" href="/assets/2621.html-jjBmOUWO.js" as="script"><link rel="prefetch" href="/assets/2622.html-Js8opZX_.js" as="script"><link rel="prefetch" href="/assets/2623.html-PO0EcMWp.js" as="script"><link rel="prefetch" href="/assets/2625.html-3v4p6cvI.js" as="script"><link rel="prefetch" href="/assets/2626.html-HJ-yuzPg.js" as="script"><link rel="prefetch" href="/assets/2627.html-Efb8G_UQ.js" as="script"><link rel="prefetch" href="/assets/2629.html-Kd85ENrg.js" as="script"><link rel="prefetch" href="/assets/2631.html-1jOcOgc6.js" as="script"><link rel="prefetch" href="/assets/2634.html-JG1BSf5E.js" as="script"><link rel="prefetch" href="/assets/2635.html-p3v5bHTb.js" as="script"><link rel="prefetch" href="/assets/2636.html-PZd0Vl-N.js" as="script"><link rel="prefetch" href="/assets/2637.html-7yNyK9j8.js" as="script"><link rel="prefetch" href="/assets/2665.html-fVXOHAho.js" as="script"><link rel="prefetch" href="/assets/2666.html-G2zT3Wou.js" as="script"><link rel="prefetch" href="/assets/2667.html-ImoLNjkR.js" as="script"><link rel="prefetch" href="/assets/2676.html-97o230y3.js" as="script"><link rel="prefetch" href="/assets/2677.html-d8uUClJJ.js" as="script"><link rel="prefetch" href="/assets/2694.html-MaJIE_FY.js" as="script"><link rel="prefetch" href="/assets/2695.html-Bkf2jnSd.js" as="script"><link rel="prefetch" href="/assets/2696.html-_A7biMu_.js" as="script"><link rel="prefetch" href="/assets/2703.html-9ipLbOq1.js" as="script"><link rel="prefetch" href="/assets/2704.html-F9KkuDtM.js" as="script"><link rel="prefetch" href="/assets/2705.html-EpZ3Unwj.js" as="script"><link rel="prefetch" href="/assets/2715.html-2R7uJVjH.js" as="script"><link rel="prefetch" href="/assets/2721.html-6Ua1epml.js" as="script"><link rel="prefetch" href="/assets/2722.html-8lIlTrL8.js" as="script"><link rel="prefetch" href="/assets/2723.html-wvNenoh9.js" as="script"><link rel="prefetch" href="/assets/2724.html-4XslDMcN.js" as="script"><link rel="prefetch" href="/assets/2725.html-9SoMjKUD.js" as="script"><link rel="prefetch" href="/assets/2726.html-z7bz6ZPB.js" as="script"><link rel="prefetch" href="/assets/2727.html-kA2B5bj5.js" as="script"><link rel="prefetch" href="/assets/2740.html-jXN2U4y1.js" as="script"><link rel="prefetch" href="/assets/2938.html-p9Eo-x5U.js" as="script"><link rel="prefetch" href="/assets/3309.html-AIyZnpt1.js" as="script"><link rel="prefetch" href="/assets/3318.html-lXvgyUcF.js" as="script"><link rel="prefetch" href="/assets/3319.html-dtlbi-Pg.js" as="script"><link rel="prefetch" href="/assets/3321.html-CXYF28WJ.js" as="script"><link rel="prefetch" href="/assets/index.html-zOIeAIZy.js" as="script"><link rel="prefetch" href="/assets/i_16.25.html-LSy6VSsY.js" as="script"><link rel="prefetch" href="/assets/jz_offer_03_1.html-1Y7OGPNb.js" as="script"><link rel="prefetch" href="/assets/jz_offer_04_1.html-efFdEKVq.js" as="script"><link rel="prefetch" href="/assets/jz_offer_05_1.html-Gp1AFVah.js" as="script"><link rel="prefetch" href="/assets/jz_offer_06_1.html-A19ZA4dd.js" as="script"><link rel="prefetch" href="/assets/jz_offer_07_1.html-1UozZBBw.js" as="script"><link rel="prefetch" href="/assets/jz_offer_09_1.html-3tqSQ99f.js" as="script"><link rel="prefetch" href="/assets/jz_offer_10_1.html-DiDEeJ8S.js" as="script"><link rel="prefetch" href="/assets/jz_offer_10_2.html-Da2Hb1cX.js" as="script"><link rel="prefetch" href="/assets/jz_offer_11_1.html-6VwVg_T_.js" as="script"><link rel="prefetch" href="/assets/jz_offer_12_1.html-LUIbfPBO.js" as="script"><link rel="prefetch" href="/assets/jz_offer_13_1.html-w7g2W8rH.js" as="script"><link rel="prefetch" href="/assets/jz_offer_14_1.html-8wuVmZOk.js" as="script"><link rel="prefetch" href="/assets/jz_offer_14_2.html-5-UlaXHH.js" as="script"><link rel="prefetch" href="/assets/jz_offer_15_1.html-cOn6LKkH.js" as="script"><link rel="prefetch" href="/assets/jz_offer_16_1.html-IhCNYn72.js" as="script"><link rel="prefetch" href="/assets/jz_offer_17_1.html-CmIpZ8C4.js" as="script"><link rel="prefetch" href="/assets/jz_offer_18_1.html-FINu5y4K.js" as="script"><link rel="prefetch" href="/assets/jz_offer_19_1.html-gwukGnIl.js" as="script"><link rel="prefetch" href="/assets/jz_offer_21_1.html-_pDqngVu.js" as="script"><link rel="prefetch" href="/assets/jz_offer_22_1.html-uWsBB_eh.js" as="script"><link rel="prefetch" href="/assets/jz_offer_24_1.html-G-gB65dB.js" as="script"><link rel="prefetch" href="/assets/jz_offer_25_1.html-hj6J3pSQ.js" as="script"><link rel="prefetch" href="/assets/jz_offer_26_1.html-YmIfeD-0.js" as="script"><link rel="prefetch" href="/assets/jz_offer_27_1.html-QRJQrdi4.js" as="script"><link rel="prefetch" href="/assets/jz_offer_28_1.html-8OI041DZ.js" as="script"><link rel="prefetch" href="/assets/jz_offer_29_1.html-23Y-kE4Z.js" as="script"><link rel="prefetch" href="/assets/jz_offer_30_1.html-uQjL6CZd.js" as="script"><link rel="prefetch" href="/assets/jz_offer_31_1.html-XcGSJBAh.js" as="script"><link rel="prefetch" href="/assets/jz_offer_32_1.html-U6qYnc02.js" as="script"><link rel="prefetch" href="/assets/jz_offer_32_2.html-PGXfOxNP.js" as="script"><link rel="prefetch" href="/assets/jz_offer_32_3.html-Mksm43QQ.js" as="script"><link rel="prefetch" href="/assets/jz_offer_33_1.html-nbITTtbG.js" as="script"><link rel="prefetch" href="/assets/jz_offer_34_1.html-_PmP-quZ.js" as="script"><link rel="prefetch" href="/assets/jz_offer_35_1.html-q0m_rQ-w.js" as="script"><link rel="prefetch" href="/assets/jz_offer_36_1.html-_b7V9j3C.js" as="script"><link rel="prefetch" href="/assets/jz_offer_37_1.html-3PIF6_rh.js" as="script"><link rel="prefetch" href="/assets/jz_offer_38_1.html-AUvL9rrX.js" as="script"><link rel="prefetch" href="/assets/jz_offer_39_1.html-saPq6j40.js" as="script"><link rel="prefetch" href="/assets/jz_offer_42_1.html-KEKOTCr4.js" as="script"><link rel="prefetch" href="/assets/jz_offer_47_1.html-P-T-H5EF.js" as="script"><link rel="prefetch" href="/assets/jz_offer_48_1.html-l2xuZszo.js" as="script"><link rel="prefetch" href="/assets/jz_offer_49_1.html-DRn6d4rX.js" as="script"><link rel="prefetch" href="/assets/jz_offer_50_1.html-lWeBN-pC.js" as="script"><link rel="prefetch" href="/assets/jz_offer_52_1.html-aK_timps.js" as="script"><link rel="prefetch" href="/assets/jz_offer_53_1.html-4RV6UJJg.js" as="script"><link rel="prefetch" href="/assets/jz_offer_53_2.html-UQyBZjY-.js" as="script"><link rel="prefetch" href="/assets/jz_offer_54_1.html-ErNuf7H7.js" as="script"><link rel="prefetch" href="/assets/jz_offer_55_1.html-36TKVrXH.js" as="script"><link rel="prefetch" href="/assets/jz_offer_58_1.html-lclNWpGZ.js" as="script"><link rel="prefetch" href="/assets/jz_offer_60_1.html-ciZCls-i.js" as="script"><link rel="prefetch" href="/assets/jz_offer_61_1.html-7qXiJq2t.js" as="script"><link rel="prefetch" href="/assets/jz_offer_62_1.html-uu4lPK0U.js" as="script"><link rel="prefetch" href="/assets/jz_offer_63_1.html-zNwghlfg.js" as="script"><link rel="prefetch" href="/assets/jz_offer_II_027.html-lJuTX449.js" as="script"><link rel="prefetch" href="/assets/jz_offer_II_031.html-h3xX82gw.js" as="script"><link rel="prefetch" href="/assets/jz_offer_II_074.html-t3ltViey.js" as="script"><link rel="prefetch" href="/assets/jz_offer_II_101.html-XNoaFO9D.js" as="script"><link rel="prefetch" href="/assets/index.html-Zll4165k.js" as="script"><link rel="prefetch" href="/assets/array.html-Omc8TEde.js" as="script"><link rel="prefetch" href="/assets/backtracking.html-5zwlNQR9.js" as="script"><link rel="prefetch" href="/assets/biconnected-component.html-2pKlzWXk.js" as="script"><link rel="prefetch" href="/assets/binary-indexed-tree.html-tSjjGkxI.js" as="script"><link rel="prefetch" href="/assets/binary-search-tree.html-RdkBsMtO.js" as="script"><link rel="prefetch" href="/assets/binary-search.html-nATiIruE.js" as="script"><link rel="prefetch" href="/assets/binary-tree.html-VZ8SMSZb.js" as="script"><link rel="prefetch" href="/assets/bit-manipulation.html-vzFrzYe-.js" as="script"><link rel="prefetch" href="/assets/bitmask.html-Z7KV58wi.js" as="script"><link rel="prefetch" href="/assets/brainteaser.html-EXOY5-cT.js" as="script"><link rel="prefetch" href="/assets/breadth-first-search.html-1wUqOGHh.js" as="script"><link rel="prefetch" href="/assets/bucket-sort.html-nGwI_Joh.js" as="script"><link rel="prefetch" href="/assets/combinatorics.html-DxryBqU5.js" as="script"><link rel="prefetch" href="/assets/concurrency.html-1LGGsSAd.js" as="script"><link rel="prefetch" href="/assets/counting-sort.html-CpmbbwSw.js" as="script"><link rel="prefetch" href="/assets/counting.html-ReO6zIWI.js" as="script"><link rel="prefetch" href="/assets/data-stream.html-X1JL4c5f.js" as="script"><link rel="prefetch" href="/assets/database.html-84926z9H.js" as="script"><link rel="prefetch" href="/assets/depth-first-search.html-Tmr-MZEr.js" as="script"><link rel="prefetch" href="/assets/design.html-6XzBzwww.js" as="script"><link rel="prefetch" href="/assets/divide-and-conquer.html-_nbiV5Ke.js" as="script"><link rel="prefetch" href="/assets/doubly-linked-list.html-DNROKa3w.js" as="script"><link rel="prefetch" href="/assets/dynamic-programming.html-Z0XN7Jdp.js" as="script"><link rel="prefetch" href="/assets/enumeration.html-czSYKALg.js" as="script"><link rel="prefetch" href="/assets/eulerian-circuit.html-qQvLw3j0.js" as="script"><link rel="prefetch" href="/assets/game-theory.html-2biwG3Rc.js" as="script"><link rel="prefetch" href="/assets/geometry.html-uNUOIlBM.js" as="script"><link rel="prefetch" href="/assets/graph.html-Z_vixoAN.js" as="script"><link rel="prefetch" href="/assets/greedy.html-DAm7C58x.js" as="script"><link rel="prefetch" href="/assets/hash-function.html-wLhK6XJ_.js" as="script"><link rel="prefetch" href="/assets/hash-table.html-JdNXsnJl.js" as="script"><link rel="prefetch" href="/assets/heap-priority-queue.html-CTor6BAY.js" as="script"><link rel="prefetch" href="/assets/interactive.html-oEMkVyfV.js" as="script"><link rel="prefetch" href="/assets/iterator.html-kFWIpczq.js" as="script"><link rel="prefetch" href="/assets/line-sweep.html-MFn8wvub.js" as="script"><link rel="prefetch" href="/assets/linked-list.html-ViqJHBhL.js" as="script"><link rel="prefetch" href="/assets/math.html-q-bFTV1R.js" as="script"><link rel="prefetch" href="/assets/matrix.html-bvtqrQdO.js" as="script"><link rel="prefetch" href="/assets/memoization.html-1v8mNs-p.js" as="script"><link rel="prefetch" href="/assets/merge-sort.html-VwRcC87b.js" as="script"><link rel="prefetch" href="/assets/minimum-spanning-tree.html-JAK6-Wj5.js" as="script"><link rel="prefetch" href="/assets/monotonic-queue.html-2LIrFJPp.js" as="script"><link rel="prefetch" href="/assets/monotonic-stack.html-XXQ9z7BM.js" as="script"><link rel="prefetch" href="/assets/number-theory.html-HWePQDR0.js" as="script"><link rel="prefetch" href="/assets/ordered-set.html-V3Fi2RXJ.js" as="script"><link rel="prefetch" href="/assets/prefix-sum.html-oxAQzne5.js" as="script"><link rel="prefetch" href="/assets/probability-and-statistics.html-49rRGYFE.js" as="script"><link rel="prefetch" href="/assets/queue.html-OyZEuejX.js" as="script"><link rel="prefetch" href="/assets/quickselect.html-3yZB9Rc5.js" as="script"><link rel="prefetch" href="/assets/radix-sort.html-i59fSzND.js" as="script"><link rel="prefetch" href="/assets/randomized.html-RSicCmf4.js" as="script"><link rel="prefetch" href="/assets/recursion.html-ItGUDQhn.js" as="script"><link rel="prefetch" href="/assets/rejection-sampling.html-ggCRKj46.js" as="script"><link rel="prefetch" href="/assets/reservoir-sampling.html-lOIgWS-n.js" as="script"><link rel="prefetch" href="/assets/rolling-hash.html-LH7RulzB.js" as="script"><link rel="prefetch" href="/assets/segment-tree.html-mbHJ1AP3.js" as="script"><link rel="prefetch" href="/assets/shell.html-F7TqxBhu.js" as="script"><link rel="prefetch" href="/assets/shortest-path.html-2-BZVRYR.js" as="script"><link rel="prefetch" href="/assets/simulation.html-RP9wJzML.js" as="script"><link rel="prefetch" href="/assets/sliding-window.html-yy6HFq0W.js" as="script"><link rel="prefetch" href="/assets/sorting.html-3hKt0dwI.js" as="script"><link rel="prefetch" href="/assets/stack.html-ocyDkIaO.js" as="script"><link rel="prefetch" href="/assets/string-matching.html-NkPvoqV8.js" as="script"><link rel="prefetch" href="/assets/string.html-M2EhQkR4.js" as="script"><link rel="prefetch" href="/assets/strongly-connected-component.html-8RouaxOr.js" as="script"><link rel="prefetch" href="/assets/suffix-array.html-gj1iIzZN.js" as="script"><link rel="prefetch" href="/assets/topological-sort.html-VzBvBPRZ.js" as="script"><link rel="prefetch" href="/assets/tree.html-7zm06S3d.js" as="script"><link rel="prefetch" href="/assets/trie.html-awvnHVe8.js" as="script"><link rel="prefetch" href="/assets/two-pointers.html-zBHsytWN.js" as="script"><link rel="prefetch" href="/assets/union-find.html-uydrVmc3.js" as="script"><link rel="prefetch" href="/assets/404.html-kfb5kpiH.js" as="script"><link rel="prefetch" href="/assets/index.html-t7UmmJ8J.js" as="script"><link rel="prefetch" href="/assets/index.html-6k2rG_8L.js" as="script"><link rel="prefetch" href="/assets/index.html-wdXu0V_B.js" as="script"><link rel="prefetch" href="/assets/index.html-C_ygwQ0o.js" as="script"><link rel="prefetch" href="/assets/index.html-Rpp8M3oz.js" as="script"><link rel="prefetch" href="/assets/index.html-VwtFgjWv.js" as="script"><link rel="prefetch" href="/assets/index.html-8jhLawpB.js" as="script"><link rel="prefetch" href="/assets/index.html-rBBnfZqB.js" as="script"><link rel="prefetch" href="/assets/magic.html-yxhdfFnQ.js" as="script"><link rel="prefetch" href="/assets/10043.html-CZ_G23VV.js" as="script"><link rel="prefetch" href="/assets/index.html-v1bipco1.js" as="script"><link rel="prefetch" href="/assets/before_quit.html-S0O0kRW8.js" as="script"><link rel="prefetch" href="/assets/digital_nomad.html-QaeNF1dG.js" as="script"><link rel="prefetch" href="/assets/go_home.html-b6fzuTID.js" as="script"><link rel="prefetch" href="/assets/grandma.html-5zrGSj8j.js" as="script"><link rel="prefetch" href="/assets/indian.html-L9bRvQYP.js" as="script"><link rel="prefetch" href="/assets/live_in_us.html-iAx87SeS.js" as="script"><link rel="prefetch" href="/assets/miss_bj.html--0Mr3Z_M.js" as="script"><link rel="prefetch" href="/assets/mississippi.html-3m5Meg3K.js" as="script"><link rel="prefetch" href="/assets/money.html-gmYYHre-.js" as="script"><link rel="prefetch" href="/assets/neighbor.html-GJMepPf4.js" as="script"><link rel="prefetch" href="/assets/new_year.html-iDEOyTpT.js" as="script"><link rel="prefetch" href="/assets/plan_2024.html-OXnb9noL.js" as="script"><link rel="prefetch" href="/assets/principle.html-fqHcPrWn.js" as="script"><link rel="prefetch" href="/assets/run_europe.html-VdqLkdbi.js" as="script"><link rel="prefetch" href="/assets/surrender.html-OARlJCvl.js" as="script"><link rel="prefetch" href="/assets/three_years_plan.html-r6s_OVgN.js" as="script"><link rel="prefetch" href="/assets/travel.html-cOiqLm0d.js" as="script"><link rel="prefetch" href="/assets/where_to_go.html-VBl2rUmm.js" as="script"><link rel="prefetch" href="/assets/work_overtime.html-rqnif5tm.js" as="script"><link rel="prefetch" href="/assets/wrong_path.html-9XrJoK4s.js" as="script"><link rel="prefetch" href="/assets/index.html-LpKMKgfC.js" as="script"><link rel="prefetch" href="/assets/index.html-Lq7rZ2Bo.js" as="script"><link rel="prefetch" href="/assets/css.html-g7YfV2N2.js" as="script"><link rel="prefetch" href="/assets/html.html-EatCl1tM.js" as="script"><link rel="prefetch" href="/assets/http.html-HJ7fwKXO.js" as="script"><link rel="prefetch" href="/assets/js.html-6ucJwaqy.js" as="script"><link rel="prefetch" href="/assets/monitor.html-37M8I2o0.js" as="script"><link rel="prefetch" href="/assets/performance.html-Az1wizGD.js" as="script"><link rel="prefetch" href="/assets/qa100.html-_Z9VxTr9.js" as="script"><link rel="prefetch" href="/assets/react.html-KRptMAMp.js" as="script"><link rel="prefetch" href="/assets/security.html-poBCmzAs.js" as="script"><link rel="prefetch" href="/assets/webpack.html-WQmg5oGy.js" as="script"><link rel="prefetch" href="/assets/1.html-A262eB-d.js" as="script"><link rel="prefetch" href="/assets/10.html-fUl_J9ze.js" as="script"><link rel="prefetch" href="/assets/11.html-hzMcZJTj.js" as="script"><link rel="prefetch" href="/assets/12.html-I0FctFUG.js" as="script"><link rel="prefetch" href="/assets/13.html-TEIpcSAU.js" as="script"><link rel="prefetch" href="/assets/14.html-SqXUKmU6.js" as="script"><link rel="prefetch" href="/assets/15.html-yrt2XRXS.js" as="script"><link rel="prefetch" href="/assets/16.html-BZ3jd5wW.js" as="script"><link rel="prefetch" href="/assets/2.html-wIUMSoMj.js" as="script"><link rel="prefetch" href="/assets/3.html-fTbWH-cz.js" as="script"><link rel="prefetch" href="/assets/4.html-m_-MsuVx.js" as="script"><link rel="prefetch" href="/assets/5.html-eGWA6ivJ.js" as="script"><link rel="prefetch" href="/assets/6.html-0_O3q2m7.js" as="script"><link rel="prefetch" href="/assets/7.html-oWwDZQyn.js" as="script"><link rel="prefetch" href="/assets/8.html-LbbHgepp.js" as="script"><link rel="prefetch" href="/assets/9.html--9Dpd7FW.js" as="script"><link rel="prefetch" href="/assets/index.html-uAGnR6p4.js" as="script"><link rel="prefetch" href="/assets/1.html-OkDO2tVp.js" as="script"><link rel="prefetch" href="/assets/10.html-cZZwKvZW.js" as="script"><link rel="prefetch" href="/assets/11.html-OIOdg5_H.js" as="script"><link rel="prefetch" href="/assets/12.html-0rSpe-db.js" as="script"><link rel="prefetch" href="/assets/13.html-LEZpoPOe.js" as="script"><link rel="prefetch" href="/assets/14.html-VFMi666q.js" as="script"><link rel="prefetch" href="/assets/15.html-yLzuk3Xz.js" as="script"><link rel="prefetch" href="/assets/16.html-X3yO49g3.js" as="script"><link rel="prefetch" href="/assets/17.html-Qr2TrBDc.js" as="script"><link rel="prefetch" href="/assets/18.html-mcN8qZrp.js" as="script"><link rel="prefetch" href="/assets/19.html-mX-LeWwL.js" as="script"><link rel="prefetch" href="/assets/2.html-Tn_utc-x.js" as="script"><link rel="prefetch" href="/assets/20.html-Sq-Bkied.js" as="script"><link rel="prefetch" href="/assets/21.html-ZrcOlM81.js" as="script"><link rel="prefetch" href="/assets/22.html-Z2F-swzP.js" as="script"><link rel="prefetch" href="/assets/23.html-YyYEM1vo.js" as="script"><link rel="prefetch" href="/assets/24.html-ldH7I1mU.js" as="script"><link rel="prefetch" href="/assets/3.html-3vRT8zC2.js" as="script"><link rel="prefetch" href="/assets/4.html-Q-i1cu7G.js" as="script"><link rel="prefetch" href="/assets/5.html-4R7T1dLy.js" as="script"><link rel="prefetch" href="/assets/6.html-SRcrNrAG.js" as="script"><link rel="prefetch" href="/assets/7.html-Rr3Fykbw.js" as="script"><link rel="prefetch" href="/assets/8.html-bGz0XGPx.js" as="script"><link rel="prefetch" href="/assets/9.html-BMDD9B72.js" as="script"><link rel="prefetch" href="/assets/index.html-SFEMLwwV.js" as="script"><link rel="prefetch" href="/assets/index.html-62CVk0ja.js" as="script"><link rel="prefetch" href="/assets/backtracking.html-tR-uhoaX.js" as="script"><link rel="prefetch" href="/assets/binary_search.html-jAM6OnkQ.js" as="script"><link rel="prefetch" href="/assets/bit.html-V93QMvQa.js" as="script"><link rel="prefetch" href="/assets/divide_conquer.html-I0Sj9CVq.js" as="script"><link rel="prefetch" href="/assets/dynamic_programming.html-lMaQhzw4.js" as="script"><link rel="prefetch" href="/assets/enumeration.html-c3AupwiB.js" as="script"><link rel="prefetch" href="/assets/greed.html-2EPuOG5U.js" as="script"><link rel="prefetch" href="/assets/recursion.html-JgFaRYKc.js" as="script"><link rel="prefetch" href="/assets/slide_window.html-r2N6RloL.js" as="script"><link rel="prefetch" href="/assets/sort.html-B2OXMudK.js" as="script"><link rel="prefetch" href="/assets/two_pointer.html-_layvlWI.js" as="script"><link rel="prefetch" href="/assets/index.html-JVnlO-_6.js" as="script"><link rel="prefetch" href="/assets/array.html-CLIwcYQE.js" as="script"><link rel="prefetch" href="/assets/graph.html-mOA_sujB.js" as="script"><link rel="prefetch" href="/assets/hash_table.html-6bp-3ivw.js" as="script"><link rel="prefetch" href="/assets/heap.html-Kmf4SZ7n.js" as="script"><link rel="prefetch" href="/assets/linked_list.html-Fd72LEDD.js" as="script"><link rel="prefetch" href="/assets/queue.html-KuWgGvSg.js" as="script"><link rel="prefetch" href="/assets/stack.html-NZmIfRPA.js" as="script"><link rel="prefetch" href="/assets/string.html--OS1ToLa.js" as="script"><link rel="prefetch" href="/assets/tree.html-6hFEkW3q.js" as="script"><link rel="prefetch" href="/assets/index.html-GYxpN1-q.js" as="script"><link rel="prefetch" href="/assets/complexity.html-kk7xRMV0.js" as="script"><link rel="prefetch" href="/assets/intro.html-WNWYOK81.js" as="script"><link rel="prefetch" href="/assets/solution_list.html-QpM-GwRo.js" as="script"><link rel="prefetch" href="/assets/index.html-nqVcS_kt.js" as="script"><link rel="prefetch" href="/assets/codetop_list.html-hdMMZ2oK.js" as="script"><link rel="prefetch" href="/assets/company_list.html-2CwptjaG.js" as="script"><link rel="prefetch" href="/assets/offer2_list.html-tk8QDwdX.js" as="script"><link rel="prefetch" href="/assets/offer_list.html-ORQHdiJk.js" as="script"><link rel="prefetch" href="/assets/rabbit_list.html-F4GvMEOo.js" as="script"><link rel="prefetch" href="/assets/top_150_list.html-3Lq5qqsB.js" as="script"><link rel="prefetch" href="/assets/top_200_list.html-IhnkZ3es.js" as="script"><link rel="prefetch" href="/assets/top_300_list.html-w2vmizAg.js" as="script"><link rel="prefetch" href="/assets/0001.html-3WbYglzd.js" as="script"><link rel="prefetch" href="/assets/0002.html-vDCwA1iz.js" as="script"><link rel="prefetch" href="/assets/0003.html-WozZT7G6.js" as="script"><link rel="prefetch" href="/assets/0004.html-2Q6KsI7w.js" as="script"><link rel="prefetch" href="/assets/0005.html-CDSKznzG.js" as="script"><link rel="prefetch" href="/assets/0006.html-pGsppMhN.js" as="script"><link rel="prefetch" href="/assets/0007.html-7qQoPk5Z.js" as="script"><link rel="prefetch" href="/assets/0008.html-iL_F5bZ8.js" as="script"><link rel="prefetch" href="/assets/0009.html-Veoa0jnd.js" as="script"><link rel="prefetch" href="/assets/0010.html-beFKps2q.js" as="script"><link rel="prefetch" href="/assets/0011.html-HXdZ11gu.js" as="script"><link rel="prefetch" href="/assets/0012.html-nXVKLR-h.js" as="script"><link rel="prefetch" href="/assets/0013.html-uW8nuf7u.js" as="script"><link rel="prefetch" href="/assets/0014.html-f6oPzBHR.js" as="script"><link rel="prefetch" href="/assets/0015.html-cRuGE0gC.js" as="script"><link rel="prefetch" href="/assets/0016.html-zhiHLcO8.js" as="script"><link rel="prefetch" href="/assets/0017.html-hkpwNLvT.js" as="script"><link rel="prefetch" href="/assets/0018.html-Su_GCqdy.js" as="script"><link rel="prefetch" href="/assets/0019.html-_ghK5p_b.js" as="script"><link rel="prefetch" href="/assets/0020.html-gFRQJ9Bo.js" as="script"><link rel="prefetch" href="/assets/0021.html-KNUQRR5P.js" as="script"><link rel="prefetch" href="/assets/0022.html-CEDbyib_.js" as="script"><link rel="prefetch" href="/assets/0023.html-cCi3eAJk.js" as="script"><link rel="prefetch" href="/assets/0024.html-mGYfWMDs.js" as="script"><link rel="prefetch" href="/assets/0025.html-F03UlD4l.js" as="script"><link rel="prefetch" href="/assets/0026.html-9wGLavI1.js" as="script"><link rel="prefetch" href="/assets/0027.html-prlWUeDj.js" as="script"><link rel="prefetch" href="/assets/0028.html-otFh7Yyu.js" as="script"><link rel="prefetch" href="/assets/0029.html--9Wn7ALV.js" as="script"><link rel="prefetch" href="/assets/0030.html-RbS1O9PC.js" as="script"><link rel="prefetch" href="/assets/0031.html-KWuTtMMT.js" as="script"><link rel="prefetch" href="/assets/0032.html-mxnH4Skp.js" as="script"><link rel="prefetch" href="/assets/0033.html-2kb3xZ9d.js" as="script"><link rel="prefetch" href="/assets/0034.html-fsKZLtsp.js" as="script"><link rel="prefetch" href="/assets/0035.html-zeoXcxSf.js" as="script"><link rel="prefetch" href="/assets/0036.html-9tzkgtbD.js" as="script"><link rel="prefetch" href="/assets/0037.html-GomaUBhW.js" as="script"><link rel="prefetch" href="/assets/0038.html-vszCoLw5.js" as="script"><link rel="prefetch" href="/assets/0039.html-_OQHjhul.js" as="script"><link rel="prefetch" href="/assets/0040.html-1U40AfFs.js" as="script"><link rel="prefetch" href="/assets/0041.html-juxEE8XC.js" as="script"><link rel="prefetch" href="/assets/0042.html-yLB1JrN8.js" as="script"><link rel="prefetch" href="/assets/0043.html-sbj-x40S.js" as="script"><link rel="prefetch" href="/assets/0044.html-dfuuUKa4.js" as="script"><link rel="prefetch" href="/assets/0045.html-L5-AHK9R.js" as="script"><link rel="prefetch" href="/assets/0046.html-zQmjSBKx.js" as="script"><link rel="prefetch" href="/assets/0047.html-xqny9DHn.js" as="script"><link rel="prefetch" href="/assets/0048.html-BQZFzkSE.js" as="script"><link rel="prefetch" href="/assets/0049.html-5iOYSf4w.js" as="script"><link rel="prefetch" href="/assets/0050.html-iHw2koL_.js" as="script"><link rel="prefetch" href="/assets/0051.html-WUHajDDw.js" as="script"><link rel="prefetch" href="/assets/0052.html-7boBmHOB.js" as="script"><link rel="prefetch" href="/assets/0053.html-_UJiO3mj.js" as="script"><link rel="prefetch" href="/assets/0054.html-TofJ0KwV.js" as="script"><link rel="prefetch" href="/assets/0055.html-PO8j6T2s.js" as="script"><link rel="prefetch" href="/assets/0056.html-Y65lYsen.js" as="script"><link rel="prefetch" href="/assets/0057.html-id1nrOK6.js" as="script"><link rel="prefetch" href="/assets/0058.html-8mTeC5DY.js" as="script"><link rel="prefetch" href="/assets/0059.html-351mSTAs.js" as="script"><link rel="prefetch" href="/assets/0061.html-kJqGGRth.js" as="script"><link rel="prefetch" href="/assets/0062.html-8jTZ0v2Q.js" as="script"><link rel="prefetch" href="/assets/0063.html-HufKl2Lu.js" as="script"><link rel="prefetch" href="/assets/0064.html-rKKcfULE.js" as="script"><link rel="prefetch" href="/assets/0066.html-t_pgbAjx.js" as="script"><link rel="prefetch" href="/assets/0067.html-8Ghrh5Rn.js" as="script"><link rel="prefetch" href="/assets/0068.html-gU_8lgc6.js" as="script"><link rel="prefetch" href="/assets/0069.html-oq_WMwU5.js" as="script"><link rel="prefetch" href="/assets/0070.html-gN96crdL.js" as="script"><link rel="prefetch" href="/assets/0071.html-ZK7_9Gxz.js" as="script"><link rel="prefetch" href="/assets/0072.html-muJ1cE6l.js" as="script"><link rel="prefetch" href="/assets/0073.html-rmKQIm7Y.js" as="script"><link rel="prefetch" href="/assets/0074.html-8iy59PT9.js" as="script"><link rel="prefetch" href="/assets/0075.html-riSsm6oq.js" as="script"><link rel="prefetch" href="/assets/0076.html-tm1vT7wf.js" as="script"><link rel="prefetch" href="/assets/0077.html-QWUFUcSe.js" as="script"><link rel="prefetch" href="/assets/0078.html-77tG7ZlK.js" as="script"><link rel="prefetch" href="/assets/0079.html-nZ6dC1rt.js" as="script"><link rel="prefetch" href="/assets/0080.html-uq2UUCWO.js" as="script"><link rel="prefetch" href="/assets/0081.html-RAqgTHBS.js" as="script"><link rel="prefetch" href="/assets/0082.html-oXamViH3.js" as="script"><link rel="prefetch" href="/assets/0083.html-KkbqKJPA.js" as="script"><link rel="prefetch" href="/assets/0084.html-rakptGeu.js" as="script"><link rel="prefetch" href="/assets/0085.html-xGNwm9-m.js" as="script"><link rel="prefetch" href="/assets/0086.html-o7dst8YR.js" as="script"><link rel="prefetch" href="/assets/0088.html-jqn1tqlq.js" as="script"><link rel="prefetch" href="/assets/0090.html-Ehn4fL_9.js" as="script"><link rel="prefetch" href="/assets/0092.html-qg_j1HaW.js" as="script"><link rel="prefetch" href="/assets/0093.html-jqpyzkFZ.js" as="script"><link rel="prefetch" href="/assets/0094.html-16z2m3dm.js" as="script"><link rel="prefetch" href="/assets/0095.html-X5g7Ouht.js" as="script"><link rel="prefetch" href="/assets/0096.html-2n7ZLME7.js" as="script"><link rel="prefetch" href="/assets/0097.html-uC0dTDVT.js" as="script"><link rel="prefetch" href="/assets/0098.html-ntPfum_x.js" as="script"><link rel="prefetch" href="/assets/0099.html-s9Wih0-0.js" as="script"><link rel="prefetch" href="/assets/0100.html-XAjXTKzM.js" as="script"><link rel="prefetch" href="/assets/0101.html-DceCfWlf.js" as="script"><link rel="prefetch" href="/assets/0102.html-OrlIscZR.js" as="script"><link rel="prefetch" href="/assets/0103.html-nkDAwJ9n.js" as="script"><link rel="prefetch" href="/assets/0104.html-AzfTgUPU.js" as="script"><link rel="prefetch" href="/assets/0105.html-VWnmT6FN.js" as="script"><link rel="prefetch" href="/assets/0106.html-j7y5YkXk.js" as="script"><link rel="prefetch" href="/assets/0107.html-D9PBp8Hw.js" as="script"><link rel="prefetch" href="/assets/0108.html-wgN2su6H.js" as="script"><link rel="prefetch" href="/assets/0109.html-DGzJbv_S.js" as="script"><link rel="prefetch" href="/assets/0110.html-dg6odl_V.js" as="script"><link rel="prefetch" href="/assets/0111.html-IwuC-2Ce.js" as="script"><link rel="prefetch" href="/assets/0112.html-gTvW7QkV.js" as="script"><link rel="prefetch" href="/assets/0113.html-4nwyQTdu.js" as="script"><link rel="prefetch" href="/assets/0114.html-0Oqni6Oa.js" as="script"><link rel="prefetch" href="/assets/0116.html-kSopEu3u.js" as="script"><link rel="prefetch" href="/assets/0117.html-KtOjV0Rd.js" as="script"><link rel="prefetch" href="/assets/0118.html-XoQ5YnOH.js" as="script"><link rel="prefetch" href="/assets/0120.html-pPEJIxMI.js" as="script"><link rel="prefetch" href="/assets/0121.html-OME1NNdq.js" as="script"><link rel="prefetch" href="/assets/0122.html-KZyoq_RP.js" as="script"><link rel="prefetch" href="/assets/0123.html-m3l36i2J.js" as="script"><link rel="prefetch" href="/assets/0124.html-DKb_dOAs.js" as="script"><link rel="prefetch" href="/assets/0125.html-bC6TrUS_.js" as="script"><link rel="prefetch" href="/assets/0127.html-DZdngA-Q.js" as="script"><link rel="prefetch" href="/assets/0128.html-uX_XIn-G.js" as="script"><link rel="prefetch" href="/assets/0129.html-P7WFOxbG.js" as="script"><link rel="prefetch" href="/assets/0130.html-m13DFpiU.js" as="script"><link rel="prefetch" href="/assets/0131.html-kFeJk3Fv.js" as="script"><link rel="prefetch" href="/assets/0133.html-WvnOfWmi.js" as="script"><link rel="prefetch" href="/assets/0134.html-ZvljadVO.js" as="script"><link rel="prefetch" href="/assets/0135.html-ljxiJgEX.js" as="script"><link rel="prefetch" href="/assets/0136.html-HY1-Fy9j.js" as="script"><link rel="prefetch" href="/assets/0137.html-1Wj1ynjD.js" as="script"><link rel="prefetch" href="/assets/0138.html-rbh1j9V_.js" as="script"><link rel="prefetch" href="/assets/0139.html-hA75cvKo.js" as="script"><link rel="prefetch" href="/assets/0141.html-fXNkFM0G.js" as="script"><link rel="prefetch" href="/assets/0142.html-ZGdOp7ZQ.js" as="script"><link rel="prefetch" href="/assets/0143.html-nsPYnyI2.js" as="script"><link rel="prefetch" href="/assets/0144.html-xc27QcD3.js" as="script"><link rel="prefetch" href="/assets/0145.html-gMP2kiM-.js" as="script"><link rel="prefetch" href="/assets/0146.html-XGiOtyNn.js" as="script"><link rel="prefetch" href="/assets/0147.html-K8qzBjQE.js" as="script"><link rel="prefetch" href="/assets/0148.html-KZRhjIEE.js" as="script"><link rel="prefetch" href="/assets/0149.html-zmPDx7Fe.js" as="script"><link rel="prefetch" href="/assets/0150.html-kHZtO41m.js" as="script"><link rel="prefetch" href="/assets/0151.html-EFye-zDQ.js" as="script"><link rel="prefetch" href="/assets/0152.html-D-q1nkq_.js" as="script"><link rel="prefetch" href="/assets/0153.html-fc6BeVXN.js" as="script"><link rel="prefetch" href="/assets/0154.html-wa5iRIrd.js" as="script"><link rel="prefetch" href="/assets/0155.html-hosLvwYT.js" as="script"><link rel="prefetch" href="/assets/0156.html-Lt1_XdX1.js" as="script"><link rel="prefetch" href="/assets/0160.html-ocaSb__j.js" as="script"><link rel="prefetch" href="/assets/0162.html-sib57Lhf.js" as="script"><link rel="prefetch" href="/assets/0167.html-cRFN9j70.js" as="script"><link rel="prefetch" href="/assets/0169.html-5Dt4eKap.js" as="script"><link rel="prefetch" href="/assets/0172.html-2gcXvXig.js" as="script"><link rel="prefetch" href="/assets/0173.html-p4EewBFg.js" as="script"><link rel="prefetch" href="/assets/0174.html-72A_Qc4j.js" as="script"><link rel="prefetch" href="/assets/0188.html-cpO7so8V.js" as="script"><link rel="prefetch" href="/assets/0189.html-5eEVChuh.js" as="script"><link rel="prefetch" href="/assets/0190.html-bYpuMHSi.js" as="script"><link rel="prefetch" href="/assets/0191.html-kKGSGjLU.js" as="script"><link rel="prefetch" href="/assets/0198.html-CsqQ2KxN.js" as="script"><link rel="prefetch" href="/assets/0199.html-9IR35Qjh.js" as="script"><link rel="prefetch" href="/assets/0200.html-IB59PeT5.js" as="script"><link rel="prefetch" href="/assets/0201.html-VI4qXb_c.js" as="script"><link rel="prefetch" href="/assets/0202.html-RxrW4vnj.js" as="script"><link rel="prefetch" href="/assets/0203.html-Kly0fbpZ.js" as="script"><link rel="prefetch" href="/assets/0205.html-diLH0nBm.js" as="script"><link rel="prefetch" href="/assets/0206.html-Xrf4kth1.js" as="script"><link rel="prefetch" href="/assets/0207.html-b-MR6cI1.js" as="script"><link rel="prefetch" href="/assets/0208.html-Fq95Ghrk.js" as="script"><link rel="prefetch" href="/assets/0209.html-G9F7OMtV.js" as="script"><link rel="prefetch" href="/assets/0210.html-rzFwmawo.js" as="script"><link rel="prefetch" href="/assets/0211.html-hmEnt8S7.js" as="script"><link rel="prefetch" href="/assets/0212.html-_qK94kma.js" as="script"><link rel="prefetch" href="/assets/0215.html-1Y8pSPaF.js" as="script"><link rel="prefetch" href="/assets/0216.html-SUPIbAr6.js" as="script"><link rel="prefetch" href="/assets/0217.html-GRAlveqz.js" as="script"><link rel="prefetch" href="/assets/0219.html-3BD7RXe-.js" as="script"><link rel="prefetch" href="/assets/0221.html-zyHsCOiA.js" as="script"><link rel="prefetch" href="/assets/0222.html-832DdUgN.js" as="script"><link rel="prefetch" href="/assets/0224.html-6IdQbKe6.js" as="script"><link rel="prefetch" href="/assets/0225.html-B3yP1VK5.js" as="script"><link rel="prefetch" href="/assets/0226.html-fZQemQDE.js" as="script"><link rel="prefetch" href="/assets/0227.html--ZD_PRPk.js" as="script"><link rel="prefetch" href="/assets/0228.html-GpsdqHJj.js" as="script"><link rel="prefetch" href="/assets/0230.html-sSzTkXTL.js" as="script"><link rel="prefetch" href="/assets/0232.html-pHXeSl_Y.js" as="script"><link rel="prefetch" href="/assets/0234.html-Y-_dArJL.js" as="script"><link rel="prefetch" href="/assets/0235.html-PMOOxVtf.js" as="script"><link rel="prefetch" href="/assets/0236.html-rqqNK8lk.js" as="script"><link rel="prefetch" href="/assets/0237.html-QuBn8cta.js" as="script"><link rel="prefetch" href="/assets/0238.html-Q4CVmMdb.js" as="script"><link rel="prefetch" href="/assets/0239.html-K7ehfph7.js" as="script"><link rel="prefetch" href="/assets/0240.html-ybLuzRFo.js" as="script"><link rel="prefetch" href="/assets/0242.html-LjqwhyEt.js" as="script"><link rel="prefetch" href="/assets/0257.html-4197b9bM.js" as="script"><link rel="prefetch" href="/assets/0259.html-x-zq5gr0.js" as="script"><link rel="prefetch" href="/assets/0264.html-YFO7j8xr.js" as="script"><link rel="prefetch" href="/assets/0268.html-_h8KC7DI.js" as="script"><link rel="prefetch" href="/assets/0274.html-HlkukmYX.js" as="script"><link rel="prefetch" href="/assets/0275.html-7NkZA0wd.js" as="script"><link rel="prefetch" href="/assets/0278.html-2OpnXOLt.js" as="script"><link rel="prefetch" href="/assets/0279.html-nmINFBHv.js" as="script"><link rel="prefetch" href="/assets/0283.html-BZP2WZQR.js" as="script"><link rel="prefetch" href="/assets/0287.html-LVY95zVj.js" as="script"><link rel="prefetch" href="/assets/0289.html-azwAA5Sc.js" as="script"><link rel="prefetch" href="/assets/0290.html-x_pQOYw5.js" as="script"><link rel="prefetch" href="/assets/0295.html-fQ1N8Xaj.js" as="script"><link rel="prefetch" href="/assets/0297.html-H4NUIkQ5.js" as="script"><link rel="prefetch" href="/assets/0300.html-fwaO41Xs.js" as="script"><link rel="prefetch" href="/assets/0303.html-h5jaHXRf.js" as="script"><link rel="prefetch" href="/assets/0307.html-QVymgCXo.js" as="script"><link rel="prefetch" href="/assets/0309.html-TVM6Yshy.js" as="script"><link rel="prefetch" href="/assets/0316.html-cPsq7sjK.js" as="script"><link rel="prefetch" href="/assets/0322.html-J2h0-kmn.js" as="script"><link rel="prefetch" href="/assets/0328.html-1zROmMXO.js" as="script"><link rel="prefetch" href="/assets/0343.html-eC34gSaT.js" as="script"><link rel="prefetch" href="/assets/0344.html-ba8LzSiw.js" as="script"><link rel="prefetch" href="/assets/0345.html-HoPdpqfb.js" as="script"><link rel="prefetch" href="/assets/0346.html-owgt573z.js" as="script"><link rel="prefetch" href="/assets/0347.html-pWQ758Oi.js" as="script"><link rel="prefetch" href="/assets/0354.html-ZU4hE46q.js" as="script"><link rel="prefetch" href="/assets/0355.html-bGpt7U75.js" as="script"><link rel="prefetch" href="/assets/0366.html-iiSmPvMg.js" as="script"><link rel="prefetch" href="/assets/0369.html-uz3tGX2H.js" as="script"><link rel="prefetch" href="/assets/0373.html-xBbbgA72.js" as="script"><link rel="prefetch" href="/assets/0374.html-1LvhQwvq.js" as="script"><link rel="prefetch" href="/assets/0375.html-S23JI_G1.js" as="script"><link rel="prefetch" href="/assets/0378.html-ITyilDUU.js" as="script"><link rel="prefetch" href="/assets/0379.html-c2Tl91or.js" as="script"><link rel="prefetch" href="/assets/0380.html-zebX4eFR.js" as="script"><link rel="prefetch" href="/assets/0382.html-Q_j_jEiE.js" as="script"><link rel="prefetch" href="/assets/0383.html-kymxw8Sl.js" as="script"><link rel="prefetch" href="/assets/0392.html-dVH-4_JR.js" as="script"><link rel="prefetch" href="/assets/0394.html-xCuY3dkD.js" as="script"><link rel="prefetch" href="/assets/0399.html-fH7eHBxG.js" as="script"><link rel="prefetch" href="/assets/0415.html-9Nxuvc-8.js" as="script"><link rel="prefetch" href="/assets/0416.html-nzXRWScR.js" as="script"><link rel="prefetch" href="/assets/0426.html-5ALeR7TW.js" as="script"><link rel="prefetch" href="/assets/0427.html-60UciXYJ.js" as="script"><link rel="prefetch" href="/assets/0430.html-UkRgJrDG.js" as="script"><link rel="prefetch" href="/assets/0432.html-6RS9ICza.js" as="script"><link rel="prefetch" href="/assets/0433.html-62B1mQ0t.js" as="script"><link rel="prefetch" href="/assets/0437.html-6F71fKkQ.js" as="script"><link rel="prefetch" href="/assets/0438.html-b2nRcfaa.js" as="script"><link rel="prefetch" href="/assets/0440.html-3SnDO2Mh.js" as="script"><link rel="prefetch" href="/assets/0442.html-Hys_SysF.js" as="script"><link rel="prefetch" href="/assets/0445.html-U9w_2NWJ.js" as="script"><link rel="prefetch" href="/assets/0450.html-Ib3KvUB1.js" as="script"><link rel="prefetch" href="/assets/0451.html-xvGlhn0s.js" as="script"><link rel="prefetch" href="/assets/0452.html-FQLtjd2b.js" as="script"><link rel="prefetch" href="/assets/0459.html-lrOVt0DU.js" as="script"><link rel="prefetch" href="/assets/0474.html-ZMajPL6q.js" as="script"><link rel="prefetch" href="/assets/0485.html-gs8aFtEf.js" as="script"><link rel="prefetch" href="/assets/0494.html-xd5UjwfG.js" as="script"><link rel="prefetch" href="/assets/0496.html-6BIVH4gI.js" as="script"><link rel="prefetch" href="/assets/0498.html-Ya5UT9LK.js" as="script"><link rel="prefetch" href="/assets/0502.html-IaaHdDis.js" as="script"><link rel="prefetch" href="/assets/0503.html-P7c5N-ld.js" as="script"><link rel="prefetch" href="/assets/0506.html-Agkzwppy.js" as="script"><link rel="prefetch" href="/assets/0509.html-1c7J7yS1.js" as="script"><link rel="prefetch" href="/assets/0514.html-Lftb5SEo.js" as="script"><link rel="prefetch" href="/assets/0516.html-NtoGhGSM.js" as="script"><link rel="prefetch" href="/assets/0518.html-5mZbEvou.js" as="script"><link rel="prefetch" href="/assets/0530.html-nw2SSDf3.js" as="script"><link rel="prefetch" href="/assets/0543.html-zHwDvQHI.js" as="script"><link rel="prefetch" href="/assets/0557.html-aGon5cC8.js" as="script"><link rel="prefetch" href="/assets/0559.html-aYvSNCqe.js" as="script"><link rel="prefetch" href="/assets/0560.html-76fML2st.js" as="script"><link rel="prefetch" href="/assets/0567.html-YGi8agmo.js" as="script"><link rel="prefetch" href="/assets/0572.html-QmqJ384k.js" as="script"><link rel="prefetch" href="/assets/0583.html-M4Sr_eUN.js" as="script"><link rel="prefetch" href="/assets/0589.html-Y3HnvIEI.js" as="script"><link rel="prefetch" href="/assets/0590.html-Tut464wg.js" as="script"><link rel="prefetch" href="/assets/0611.html-HSIrs_DT.js" as="script"><link rel="prefetch" href="/assets/0617.html-8T_HraGq.js" as="script"><link rel="prefetch" href="/assets/0622.html-MbpxC4GN.js" as="script"><link rel="prefetch" href="/assets/0632.html-D7ELJr7e.js" as="script"><link rel="prefetch" href="/assets/0637.html-6sDrpjag.js" as="script"><link rel="prefetch" href="/assets/0641.html-4RSGLHth.js" as="script"><link rel="prefetch" href="/assets/0654.html-LAy_Daa6.js" as="script"><link rel="prefetch" href="/assets/0662.html-iMnq4EGQ.js" as="script"><link rel="prefetch" href="/assets/0670.html-lXFOKwgc.js" as="script"><link rel="prefetch" href="/assets/0678.html-0xEZY1Jc.js" as="script"><link rel="prefetch" href="/assets/0682.html-6WMNVSk0.js" as="script"><link rel="prefetch" href="/assets/0695.html-nQPFiy30.js" as="script"><link rel="prefetch" href="/assets/0700.html-_6wW6PwG.js" as="script"><link rel="prefetch" href="/assets/0701.html-JR9-26bU.js" as="script"><link rel="prefetch" href="/assets/0703.html-a1pHMyRQ.js" as="script"><link rel="prefetch" href="/assets/0704.html-t3a-OuPO.js" as="script"><link rel="prefetch" href="/assets/0705.html-GVZQla_r.js" as="script"><link rel="prefetch" href="/assets/0706.html-EVBPPIEo.js" as="script"><link rel="prefetch" href="/assets/0707.html-3R7wXGpZ.js" as="script"><link rel="prefetch" href="/assets/0712.html-lXupImus.js" as="script"><link rel="prefetch" href="/assets/0714.html-C1bEk-YY.js" as="script"><link rel="prefetch" href="/assets/0724.html-tT2CuNP1.js" as="script"><link rel="prefetch" href="/assets/0729.html-HQsIRXFC.js" as="script"><link rel="prefetch" href="/assets/0731.html-8s3g5N30.js" as="script"><link rel="prefetch" href="/assets/0739.html-Zy-m9OO_.js" as="script"><link rel="prefetch" href="/assets/0763.html-YAhTGvbp.js" as="script"><link rel="prefetch" href="/assets/0772.html-DhmIwu-w.js" as="script"><link rel="prefetch" href="/assets/0783.html-U8GfIecg.js" as="script"><link rel="prefetch" href="/assets/0844.html-NXHfX6yV.js" as="script"><link rel="prefetch" href="/assets/0876.html-HNBI3W8f.js" as="script"><link rel="prefetch" href="/assets/0880.html-8_tXM-2I.js" as="script"><link rel="prefetch" href="/assets/0889.html-OhjMxcS5.js" as="script"><link rel="prefetch" href="/assets/0909.html-wlAJEtJJ.js" as="script"><link rel="prefetch" href="/assets/0918.html-0agvX5g9.js" as="script"><link rel="prefetch" href="/assets/0921.html-y4t0PziJ.js" as="script"><link rel="prefetch" href="/assets/0931.html-JLljQEug.js" as="script"><link rel="prefetch" href="/assets/0945.html-fISLC9AP.js" as="script"><link rel="prefetch" href="/assets/0946.html-n3hEL__h.js" as="script"><link rel="prefetch" href="/assets/0954.html-iBaZGGC_.js" as="script"><link rel="prefetch" href="/assets/0958.html-OiSobj1x.js" as="script"><link rel="prefetch" href="/assets/0962.html--x4jmabs.js" as="script"><link rel="prefetch" href="/assets/0973.html-44dVEmGh.js" as="script"><link rel="prefetch" href="/assets/0986.html-U8e2_JcP.js" as="script"><link rel="prefetch" href="/assets/0994.html-hmnQeQiF.js" as="script"><link rel="prefetch" href="/assets/1008.html-gn_MT8UH.js" as="script"><link rel="prefetch" href="/assets/1021.html-UOJNmMq3.js" as="script"><link rel="prefetch" href="/assets/1047.html-FLyliiT-.js" as="script"><link rel="prefetch" href="/assets/1049.html-E1BuC7YQ.js" as="script"><link rel="prefetch" href="/assets/1081.html-K37x3SWi.js" as="script"><link rel="prefetch" href="/assets/1137.html-g2So1G4_.js" as="script"><link rel="prefetch" href="/assets/1143.html-2T6RA-4E.js" as="script"><link rel="prefetch" href="/assets/1190.html-WAPf0-Bh.js" as="script"><link rel="prefetch" href="/assets/1288.html-OVqDeOJU.js" as="script"><link rel="prefetch" href="/assets/1312.html-habmIPCz.js" as="script"><link rel="prefetch" href="/assets/1331.html-Irm6iqIM.js" as="script"><link rel="prefetch" href="/assets/1381.html-mRmLpV2t.js" as="script"><link rel="prefetch" href="/assets/1405.html-lfpFyFA8.js" as="script"><link rel="prefetch" href="/assets/1419.html-9O4bw2O6.js" as="script"><link rel="prefetch" href="/assets/1441.html-OrHwWfWU.js" as="script"><link rel="prefetch" href="/assets/1472.html-WJ0khkjY.js" as="script"><link rel="prefetch" href="/assets/1475.html-ysYQQzco.js" as="script"><link rel="prefetch" href="/assets/1497.html-gGtz0bC8.js" as="script"><link rel="prefetch" href="/assets/1522.html-Dx9BYIft.js" as="script"><link rel="prefetch" href="/assets/1590.html--SgZ5xVm.js" as="script"><link rel="prefetch" href="/assets/1813.html-oZsD_d7S.js" as="script"><link rel="prefetch" href="/assets/1942.html-rS9C6_Lx.js" as="script"><link rel="prefetch" href="/assets/1963.html-Z4N0TVoG.js" as="script"><link rel="prefetch" href="/assets/2044.html-J_zenr_3.js" as="script"><link rel="prefetch" href="/assets/2196.html-n85COyuY.js" as="script"><link rel="prefetch" href="/assets/2259.html-hgQX_dXB.js" as="script"><link rel="prefetch" href="/assets/2260.html-fj7fhhSz.js" as="script"><link rel="prefetch" href="/assets/2261.html-oEZwkCfO.js" as="script"><link rel="prefetch" href="/assets/2262.html-mEUZtevp.js" as="script"><link rel="prefetch" href="/assets/2406.html-cMdTBnFP.js" as="script"><link rel="prefetch" href="/assets/2416.html-E-TEgpIq.js" as="script"><link rel="prefetch" href="/assets/2491.html-fl0z3AiR.js" as="script"><link rel="prefetch" href="/assets/2530.html--M2pqQwJ.js" as="script"><link rel="prefetch" href="/assets/2619.html-_NBABd2F.js" as="script"><link rel="prefetch" href="/assets/2620.html-L1FFosEl.js" as="script"><link rel="prefetch" href="/assets/2621.html-crombF3V.js" as="script"><link rel="prefetch" href="/assets/2622.html-SiwKrWms.js" as="script"><link rel="prefetch" href="/assets/2623.html-1XKA8Tl2.js" as="script"><link rel="prefetch" href="/assets/2625.html-XVBUbe-0.js" as="script"><link rel="prefetch" href="/assets/2626.html-438zznBd.js" as="script"><link rel="prefetch" href="/assets/2627.html-3vspiMST.js" as="script"><link rel="prefetch" href="/assets/2629.html-qtpeq2eQ.js" as="script"><link rel="prefetch" href="/assets/2631.html-mhL6FkoU.js" as="script"><link rel="prefetch" href="/assets/2634.html-PGQM_FcB.js" as="script"><link rel="prefetch" href="/assets/2635.html-rs4t03e4.js" as="script"><link rel="prefetch" href="/assets/2636.html-PUOZ4udn.js" as="script"><link rel="prefetch" href="/assets/2637.html-AuUwOvFq.js" as="script"><link rel="prefetch" href="/assets/2665.html-Pq9-h-Oo.js" as="script"><link rel="prefetch" href="/assets/2666.html-pY-otqZU.js" as="script"><link rel="prefetch" href="/assets/2667.html-zYLN8o3g.js" as="script"><link rel="prefetch" href="/assets/2676.html-Sz4lP3gW.js" as="script"><link rel="prefetch" href="/assets/2677.html-HvuiWGFO.js" as="script"><link rel="prefetch" href="/assets/2694.html-BAAnT3NX.js" as="script"><link rel="prefetch" href="/assets/2695.html-7Qf1aPAg.js" as="script"><link rel="prefetch" href="/assets/2696.html-j_NRUgh5.js" as="script"><link rel="prefetch" href="/assets/2703.html-OqXSOePA.js" as="script"><link rel="prefetch" href="/assets/2704.html-gxKLVLPA.js" as="script"><link rel="prefetch" href="/assets/2705.html-yggOqRg5.js" as="script"><link rel="prefetch" href="/assets/2715.html-zYo5C9yn.js" as="script"><link rel="prefetch" href="/assets/2721.html-Ch1NOQ1T.js" as="script"><link rel="prefetch" href="/assets/2722.html-w60sXOj6.js" as="script"><link rel="prefetch" href="/assets/2723.html-_e4LMTF5.js" as="script"><link rel="prefetch" href="/assets/2724.html-fpVJD32f.js" as="script"><link rel="prefetch" href="/assets/2725.html-J7kT8sxi.js" as="script"><link rel="prefetch" href="/assets/2726.html-fTSo07t1.js" as="script"><link rel="prefetch" href="/assets/2727.html-Xf5yZTAW.js" as="script"><link rel="prefetch" href="/assets/2740.html-9FpA5Dyj.js" as="script"><link rel="prefetch" href="/assets/2938.html-9WfoalDH.js" as="script"><link rel="prefetch" href="/assets/3309.html-WoMtsuEi.js" as="script"><link rel="prefetch" href="/assets/3318.html-_lOLOdoS.js" as="script"><link rel="prefetch" href="/assets/3319.html-S3FLSkX7.js" as="script"><link rel="prefetch" href="/assets/3321.html-asbxNro5.js" as="script"><link rel="prefetch" href="/assets/index.html-nyPmG4Ze.js" as="script"><link rel="prefetch" href="/assets/i_16.25.html-LkFt5PaH.js" as="script"><link rel="prefetch" href="/assets/jz_offer_03_1.html-OScHD0iH.js" as="script"><link rel="prefetch" href="/assets/jz_offer_04_1.html-QLcvEujg.js" as="script"><link rel="prefetch" href="/assets/jz_offer_05_1.html-omz6YKJK.js" as="script"><link rel="prefetch" href="/assets/jz_offer_06_1.html-5L7SBBBg.js" as="script"><link rel="prefetch" href="/assets/jz_offer_07_1.html-nIvq9iwx.js" as="script"><link rel="prefetch" href="/assets/jz_offer_09_1.html-pE3EmfBM.js" as="script"><link rel="prefetch" href="/assets/jz_offer_10_1.html-lOn6DFtz.js" as="script"><link rel="prefetch" href="/assets/jz_offer_10_2.html-lVAs5QlX.js" as="script"><link rel="prefetch" href="/assets/jz_offer_11_1.html-Z4AZaq6b.js" as="script"><link rel="prefetch" href="/assets/jz_offer_12_1.html-6Ilir2WO.js" as="script"><link rel="prefetch" href="/assets/jz_offer_13_1.html-bCdCJKzn.js" as="script"><link rel="prefetch" href="/assets/jz_offer_14_1.html-DE2eJNXW.js" as="script"><link rel="prefetch" href="/assets/jz_offer_14_2.html-7Fpx9uPu.js" as="script"><link rel="prefetch" href="/assets/jz_offer_15_1.html-qnthxNHw.js" as="script"><link rel="prefetch" href="/assets/jz_offer_16_1.html-QZ2vFFnm.js" as="script"><link rel="prefetch" href="/assets/jz_offer_17_1.html-BM4FwjlX.js" as="script"><link rel="prefetch" href="/assets/jz_offer_18_1.html-rRYkwd-t.js" as="script"><link rel="prefetch" href="/assets/jz_offer_19_1.html-0vQvxAoD.js" as="script"><link rel="prefetch" href="/assets/jz_offer_21_1.html-wzFnm9Ok.js" as="script"><link rel="prefetch" href="/assets/jz_offer_22_1.html-T735Fp2M.js" as="script"><link rel="prefetch" href="/assets/jz_offer_24_1.html-3UVyZMG7.js" as="script"><link rel="prefetch" href="/assets/jz_offer_25_1.html-IA6ryH68.js" as="script"><link rel="prefetch" href="/assets/jz_offer_26_1.html-zYx1qVBZ.js" as="script"><link rel="prefetch" href="/assets/jz_offer_27_1.html-C-oKFi2Q.js" as="script"><link rel="prefetch" href="/assets/jz_offer_28_1.html-MAF1fFTL.js" as="script"><link rel="prefetch" href="/assets/jz_offer_29_1.html-r8mr2avV.js" as="script"><link rel="prefetch" href="/assets/jz_offer_30_1.html-VgBGSd_L.js" as="script"><link rel="prefetch" href="/assets/jz_offer_31_1.html-Ke2zlIqa.js" as="script"><link rel="prefetch" href="/assets/jz_offer_32_1.html-8wn3D99E.js" as="script"><link rel="prefetch" href="/assets/jz_offer_32_2.html-cW0UcROp.js" as="script"><link rel="prefetch" href="/assets/jz_offer_32_3.html-IX3Djv4-.js" as="script"><link rel="prefetch" href="/assets/jz_offer_33_1.html-y5ybGqyH.js" as="script"><link rel="prefetch" href="/assets/jz_offer_34_1.html-oZ9s8zYm.js" as="script"><link rel="prefetch" href="/assets/jz_offer_35_1.html-8vM-WvVO.js" as="script"><link rel="prefetch" href="/assets/jz_offer_36_1.html-l_5BBbH3.js" as="script"><link rel="prefetch" href="/assets/jz_offer_37_1.html-P1JW8nAo.js" as="script"><link rel="prefetch" href="/assets/jz_offer_38_1.html-j_gjFmcd.js" as="script"><link rel="prefetch" href="/assets/jz_offer_39_1.html-19s0cO2E.js" as="script"><link rel="prefetch" href="/assets/jz_offer_42_1.html-ZdCIHWWg.js" as="script"><link rel="prefetch" href="/assets/jz_offer_47_1.html-bJEzy4Yw.js" as="script"><link rel="prefetch" href="/assets/jz_offer_48_1.html-arQxSrum.js" as="script"><link rel="prefetch" href="/assets/jz_offer_49_1.html-2TXeVy27.js" as="script"><link rel="prefetch" href="/assets/jz_offer_50_1.html-A6W2RzOW.js" as="script"><link rel="prefetch" href="/assets/jz_offer_52_1.html-wc82hNtf.js" as="script"><link rel="prefetch" href="/assets/jz_offer_53_1.html-AUbRTuiE.js" as="script"><link rel="prefetch" href="/assets/jz_offer_53_2.html-4e9M04Gv.js" as="script"><link rel="prefetch" href="/assets/jz_offer_54_1.html-Nt0LjjtA.js" as="script"><link rel="prefetch" href="/assets/jz_offer_55_1.html-bm1W9zeL.js" as="script"><link rel="prefetch" href="/assets/jz_offer_58_1.html-UMYR1448.js" as="script"><link rel="prefetch" href="/assets/jz_offer_60_1.html-QEtri6pB.js" as="script"><link rel="prefetch" href="/assets/jz_offer_61_1.html-HBSqK7d7.js" as="script"><link rel="prefetch" href="/assets/jz_offer_62_1.html-AtVhMdec.js" as="script"><link rel="prefetch" href="/assets/jz_offer_63_1.html-_eEoWKpz.js" as="script"><link rel="prefetch" href="/assets/jz_offer_II_027.html-iIUWunOS.js" as="script"><link rel="prefetch" href="/assets/jz_offer_II_031.html-Lp8MfD4v.js" as="script"><link rel="prefetch" href="/assets/jz_offer_II_074.html-t4E587eK.js" as="script"><link rel="prefetch" href="/assets/jz_offer_II_101.html-rLysueE4.js" as="script"><link rel="prefetch" href="/assets/index.html-C5Rxdmpr.js" as="script"><link rel="prefetch" href="/assets/array.html-WDmtnfjL.js" as="script"><link rel="prefetch" href="/assets/backtracking.html-VMVnSVBl.js" as="script"><link rel="prefetch" href="/assets/biconnected-component.html--p-Vq7nF.js" as="script"><link rel="prefetch" href="/assets/binary-indexed-tree.html-8fo5Cr2p.js" as="script"><link rel="prefetch" href="/assets/binary-search-tree.html-DxrF8mt-.js" as="script"><link rel="prefetch" href="/assets/binary-search.html-rBk-TibB.js" as="script"><link rel="prefetch" href="/assets/binary-tree.html-zNzyCn_V.js" as="script"><link rel="prefetch" href="/assets/bit-manipulation.html-vl3KB3UU.js" as="script"><link rel="prefetch" href="/assets/bitmask.html-ONvvgeW-.js" as="script"><link rel="prefetch" href="/assets/brainteaser.html-HQs4oop1.js" as="script"><link rel="prefetch" href="/assets/breadth-first-search.html-cZZgW4Y7.js" as="script"><link rel="prefetch" href="/assets/bucket-sort.html-1KqdF009.js" as="script"><link rel="prefetch" href="/assets/combinatorics.html-d_iBZGBi.js" as="script"><link rel="prefetch" href="/assets/concurrency.html-Oj81chgI.js" as="script"><link rel="prefetch" href="/assets/counting-sort.html-yxmgsI66.js" as="script"><link rel="prefetch" href="/assets/counting.html-8hLJrqSm.js" as="script"><link rel="prefetch" href="/assets/data-stream.html-qh53ol_v.js" as="script"><link rel="prefetch" href="/assets/database.html-RZ3gGcW-.js" as="script"><link rel="prefetch" href="/assets/depth-first-search.html-gavFqaUl.js" as="script"><link rel="prefetch" href="/assets/design.html-QBZIMv7M.js" as="script"><link rel="prefetch" href="/assets/divide-and-conquer.html-ayb0CHFT.js" as="script"><link rel="prefetch" href="/assets/doubly-linked-list.html-pV0C9e6w.js" as="script"><link rel="prefetch" href="/assets/dynamic-programming.html-lfRqaieA.js" as="script"><link rel="prefetch" href="/assets/enumeration.html-ij5zXX9k.js" as="script"><link rel="prefetch" href="/assets/eulerian-circuit.html-Ho8r8X-f.js" as="script"><link rel="prefetch" href="/assets/game-theory.html-n70bZfUa.js" as="script"><link rel="prefetch" href="/assets/geometry.html-ibPtzBA1.js" as="script"><link rel="prefetch" href="/assets/graph.html-Ihwt461w.js" as="script"><link rel="prefetch" href="/assets/greedy.html-aLW_4Epr.js" as="script"><link rel="prefetch" href="/assets/hash-function.html-bwwCgCD8.js" as="script"><link rel="prefetch" href="/assets/hash-table.html-aMwxohwg.js" as="script"><link rel="prefetch" href="/assets/heap-priority-queue.html-7TrbfsQN.js" as="script"><link rel="prefetch" href="/assets/interactive.html-0YfOdreZ.js" as="script"><link rel="prefetch" href="/assets/iterator.html-3w-M4AXq.js" as="script"><link rel="prefetch" href="/assets/line-sweep.html-7ftn2NKF.js" as="script"><link rel="prefetch" href="/assets/linked-list.html-_z3FSBgv.js" as="script"><link rel="prefetch" href="/assets/math.html-uhAm7e4b.js" as="script"><link rel="prefetch" href="/assets/matrix.html-8j-WxGdl.js" as="script"><link rel="prefetch" href="/assets/memoization.html-I5chihGn.js" as="script"><link rel="prefetch" href="/assets/merge-sort.html-PSzBOuVY.js" as="script"><link rel="prefetch" href="/assets/minimum-spanning-tree.html-v0Vmo-ym.js" as="script"><link rel="prefetch" href="/assets/monotonic-queue.html-guRh3MxW.js" as="script"><link rel="prefetch" href="/assets/monotonic-stack.html-C_M_dkf5.js" as="script"><link rel="prefetch" href="/assets/number-theory.html-DKnsJ7kD.js" as="script"><link rel="prefetch" href="/assets/ordered-set.html-BxMHbRKl.js" as="script"><link rel="prefetch" href="/assets/prefix-sum.html-xYDN3qrX.js" as="script"><link rel="prefetch" href="/assets/probability-and-statistics.html-hGh4YKkv.js" as="script"><link rel="prefetch" href="/assets/queue.html-bzYcGCl3.js" as="script"><link rel="prefetch" href="/assets/quickselect.html-sp4aeyc9.js" as="script"><link rel="prefetch" href="/assets/radix-sort.html-Eom39l68.js" as="script"><link rel="prefetch" href="/assets/randomized.html-3-LLHZHc.js" as="script"><link rel="prefetch" href="/assets/recursion.html-qv4-jN0g.js" as="script"><link rel="prefetch" href="/assets/rejection-sampling.html-JVJ-pbcs.js" as="script"><link rel="prefetch" href="/assets/reservoir-sampling.html-a6wPSPAu.js" as="script"><link rel="prefetch" href="/assets/rolling-hash.html-GWb1aEre.js" as="script"><link rel="prefetch" href="/assets/segment-tree.html-dgamP6T8.js" as="script"><link rel="prefetch" href="/assets/shell.html-3pZZfj5a.js" as="script"><link rel="prefetch" href="/assets/shortest-path.html-pix4Jkv8.js" as="script"><link rel="prefetch" href="/assets/simulation.html-wCq1B2xB.js" as="script"><link rel="prefetch" href="/assets/sliding-window.html-SwpN_rFX.js" as="script"><link rel="prefetch" href="/assets/sorting.html-MOnAAaKh.js" as="script"><link rel="prefetch" href="/assets/stack.html-dhmz3mXl.js" as="script"><link rel="prefetch" href="/assets/string-matching.html-xkLvWjE8.js" as="script"><link rel="prefetch" href="/assets/string.html-s97fewva.js" as="script"><link rel="prefetch" href="/assets/strongly-connected-component.html-Tdyn-jL8.js" as="script"><link rel="prefetch" href="/assets/suffix-array.html-y3XKYk5q.js" as="script"><link rel="prefetch" href="/assets/topological-sort.html-4ikS3aEq.js" as="script"><link rel="prefetch" href="/assets/tree.html-Y-odvfmy.js" as="script"><link rel="prefetch" href="/assets/trie.html-n7LrsSRU.js" as="script"><link rel="prefetch" href="/assets/two-pointers.html-8-qUqRun.js" as="script"><link rel="prefetch" href="/assets/union-find.html-nGbh2DUt.js" as="script"><link rel="prefetch" href="/assets/404.html-uTbh6e1T.js" as="script"><link rel="prefetch" href="/assets/index.html-fSoi98xW.js" as="script"><link rel="prefetch" href="/assets/index.html-u2shC-lR.js" as="script"><link rel="prefetch" href="/assets/index.html-tdAt8k8t.js" as="script"><link rel="prefetch" href="/assets/index.html-rSY2KKHv.js" as="script"><link rel="prefetch" href="/assets/index.html-SKnKp5ZM.js" as="script"><link rel="prefetch" href="/assets/index.html-LiOKc4Ek.js" as="script"><link rel="prefetch" href="/assets/index.html-4oE5_hZI.js" as="script"><link rel="prefetch" href="/assets/giscus-unEZQsJ0.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-mC0Qcr12.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="/assets/image/logo.png" alt="LeetCode-JS"><!----><span class="vp-site-name hide-in-pad">LeetCode-JS</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="LeetCode 通关指南" class="vp-link nav-link nav-link" href="/leetcode/"><span class="font-icon icon iconfont icon-code" style=""></span>LeetCode 通关指南<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="React 源码" class="vp-link nav-link nav-link" href="/react/"><span class="font-icon icon iconfont icon-react" style=""></span>React 源码<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Vue 源码" class="vp-link nav-link nav-link" href="/vue/"><span class="font-icon icon iconfont icon-vue" style=""></span>Vue 源码<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="前端面试题" class="vp-link nav-link active nav-link active" href="/interview/"><span class="font-icon icon iconfont icon-creative" style=""></span>前端面试题<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="博客" class="vp-link nav-link nav-link" href="/blog/"><span class="font-icon icon iconfont icon-blog" style=""></span>博客<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!--[--><div class="magic-icon"> 🎄 <!-- <HopeIcon class="icon" icon="linter" /> --><div class="magic-dropdown"><div class="cover"><p class="title">🎉 今日咒语</p><p class="word">在整个世界都转向宏大叙事的时候，你还是可以选择先照顾好自己的微观生活。</p></div></div></div><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/2xiao/leetcode-js" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="JavaScript 相关" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/js.html"><span class="font-icon icon iconfont icon-javascript" style=""></span>JavaScript 相关<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="CSS 相关" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/css.html"><span class="font-icon icon iconfont icon-palette" style=""></span>CSS 相关<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="HTML 相关" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/html.html"><span class="font-icon icon iconfont icon-code" style=""></span>HTML 相关<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="HTTP相关" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/http.html"><span class="font-icon icon iconfont icon-http" style=""></span>HTTP相关<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="React 相关" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/react.html"><span class="font-icon icon iconfont icon-react" style=""></span>React 相关<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Webpack 相关" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/webpack.html"><span class="font-icon icon iconfont icon-waline" style=""></span>Webpack 相关<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Web 性能" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/performance.html"><span class="font-icon icon iconfont icon-rank" style=""></span>Web 性能<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Web 监控" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/monitor.html"><span class="font-icon icon iconfont icon-notice" style=""></span>Web 监控<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Web 安全" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/security.html"><span class="font-icon icon iconfont icon-safe" style=""></span>Web 安全<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="自测 100 题" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/interview/qa100.html"><span class="font-icon icon iconfont icon-strong" style=""></span>自测 100 题<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Promise 专项练习" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/interview/promise.html"><span class="font-icon icon iconfont icon-strong" style=""></span>Promise 专项练习<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon iconfont icon-strong" style=""></span>Promise 专项练习</h1><!----><hr></div><!----><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="_1-promise-的几道基础题" tabindex="-1"><a class="header-anchor" href="#_1-promise-的几道基础题" aria-hidden="true">#</a> 1 Promise 的几道基础题</h1><h3 id="_1-1-题目一" tabindex="-1"><a class="header-anchor" href="#_1-1-题目一" aria-hidden="true">#</a> <a href="#_1-1-%E9%A2%98%E7%9B%AE%E4%B8%80">#</a> 1.1 题目一</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>从上至下，先遇到 new Promise，执行该构造函数中的代码 promise1</li><li>然后执行同步代码 1，此时 promise1 没有被 resolve 或者 reject，因此状态还是 pending</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;promise1&#39;
&#39;1&#39; Promise{&lt;pending&gt;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-题目二" tabindex="-1"><a class="header-anchor" href="#_1-2-题目二" aria-hidden="true">#</a> <a href="#_1-2-%E9%A2%98%E7%9B%AE%E4%BA%8C">#</a> 1.2 题目二</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>从上至下，先遇到 new Promise，执行其中的同步代码 1</li><li>再遇到 resolve(&#39;success&#39;)， 将 promise 的状态改为了 resolved 并且将值保存下来</li><li>继续执行同步代码 2</li><li>跳出 promise，往下执行，碰到 promise.then 这个微任务，将其加入微任务队列</li><li>执行同步代码 4</li><li>本轮宏任务全部执行完毕，检查微任务队列，发现 promise.then 这个微任务且状态为 resolved，执行它。</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1 2 4 3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-3-题目三" tabindex="-1"><a class="header-anchor" href="#_1-3-题目三" aria-hidden="true">#</a> <a href="#_1-3-%E9%A2%98%E7%9B%AE%E4%B8%89">#</a> 1.3 题目三</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>和题目二相似，只不过在<code>promise</code>中并没有<code>resolve</code>或者<code>reject</code></li><li>因此<code>promise.then</code>并不会执行，它只有在被改变了状态之后才会执行。</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1 2 4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-4-题目四" tabindex="-1"><a class="header-anchor" href="#_1-4-题目四" aria-hidden="true">#</a> <a href="#_1-4-%E9%A2%98%E7%9B%AE%E5%9B%9B">#</a> 1.4 题目四</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;resolve1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise2 <span class="token operator">=</span> promise1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> promise2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>从上至下，先遇到<code>new Promise</code>，执行该构造函数中的代码<code>promise1</code></li><li>碰到<code>resolve</code>函数, 将<code>promise1</code>的状态改变为<code>resolved</code>, 并将结果保存下来</li><li>碰到<code>promise1.then</code>这个微任务，将它放入微任务队列</li><li><code>promise2</code>是一个新的状态为<code>pending的</code>Promise`</li><li>执行同步代码 1， 同时打印出<code>promise1</code>的状态是<code>resolved</code></li><li>执行同步代码 2，同时打印出<code>promise2</code>的状态是<code>pending</code></li><li>宏任务执行完毕，查找微任务队列，发现<code>promise1.then</code>这个微任务且状态为 resolved，执行它。</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;promise1&#39;
&#39;1&#39; Promise{&lt;resolved&gt;: &#39;resolve1&#39;}
&#39;2&#39; Promise{&lt;pending&gt;}
&#39;resolve1&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-5-题目五" tabindex="-1"><a class="header-anchor" href="#_1-5-题目五" aria-hidden="true">#</a> <a href="#_1-5-%E9%A2%98%E7%9B%AE%E4%BA%94">#</a> 1.5 题目五</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
	<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请仔细看看哦，fn 函数它是直接返回了一个 new Promise 的，而且 fn 函数的调用是在 start 之前，所以它里面的内容应该会先执行。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1
&#39;start&#39;
&#39;success&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-6-题目六" tabindex="-1"><a class="header-anchor" href="#_1-6-题目六" aria-hidden="true">#</a> <a href="#_1-6-%E9%A2%98%E7%9B%AE%E5%85%AD">#</a> 1.6 题目六</h3><p>如果把 fn 的调用放到 start 之后呢？</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
	<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在 start 就在 1 之前打印出来了，因为 fn 函数是之后执行的。</p><blockquote><p>注意 ⚠️：之前我们很容易就以为看到<code>new Promise()</code>就执行它的第一个参数函数了，其实这是不对的，就像这两道题中，我们得注意它是不是被包裹在函数当中，如果是的话，只有在函数调用的时候才会执行。</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;start&quot;
1
&quot;success&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-promise-结合-settimeout" tabindex="-1"><a class="header-anchor" href="#_2-promise-结合-settimeout" aria-hidden="true">#</a> <a href="#_2-promise%E7%BB%93%E5%90%88settimeout">#</a> 2. Promise 结合 setTimeout</h2><h3 id="_2-1-题目一" tabindex="-1"><a class="header-anchor" href="#_2-1-题目一" aria-hidden="true">#</a> <a href="#_2-1-%E9%A2%98%E7%9B%AE%E4%B8%80">#</a> 2.1 题目一</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;time&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;resolve&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>刚开始整个脚本作为一个宏任务来执行，对于同步代码直接压入执行栈进行执行，因此先打印出 start 和 end。</li><li>setTimout 作为一个宏任务被放入宏任务队列(下一个)</li><li>Promise.then 作为一个微任务被放入微任务队列</li><li>本次宏任务执行完，检查微任务，发现 Promise.then，执行它</li><li>接下来进入下一个宏任务，发现 setTimeout，执行。</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;start&#39;
&#39;end&#39;
&#39;resolve&#39;
&#39;time&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-题目二" tabindex="-1"><a class="header-anchor" href="#_2-2-题目二" aria-hidden="true">#</a> <a href="#_2-2-%E9%A2%98%E7%9B%AE%E4%BA%8C">#</a> 2.2 题目二</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timerStart&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timerEnd&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>和题目 1.2 很像，不过在 resolve 的外层加了一层 setTimeout 定时器。</p></blockquote><ul><li>从上至下，先遇到 new Promise，执行该构造函数中的代码 1</li><li>然后碰到了定时器，将这个定时器中的函数放到下一个宏任务的延迟队列中等待执行 执行同步代码 2</li><li>跳出 promise 函数，遇到 promise.then，但其状态还是为 pending，这里理解为先不执行 执行同步代码 4</li><li>一轮循环过后，进入第二次宏任务，发现延迟队列中有 setTimeout 定时器，执行它</li><li>首先执行 timerStart，然后遇到了 resolve，将 promise 的状态改为 resolved 且保存结果并将之前的 promise.then 推入微任务队列</li><li>继续执行同步代码 timerEnd</li><li>宏任务全部执行完毕，查找微任务队列，发现 promise.then 这个微任务，执行它</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1
2
4
&quot;timerStart&quot;
&quot;timerEnd&quot;
&quot;success&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-题目三" tabindex="-1"><a class="header-anchor" href="#_2-3-题目三" aria-hidden="true">#</a> <a href="#_2-3-%E9%A2%98%E7%9B%AE%E4%B8%89">#</a> 2.3 题目三</h3><p>题目三分了两个题目，因为看着都差不多，不过执行的结果却不一样，大家不妨先猜猜下面两个题目分别执行什么：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&#39;start&#39; &#39;timer1&#39; &#39;timer2&#39; &#39;timer3&#39;</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&#39;start&#39; &#39;timer1&#39; &#39;promise&#39; &#39;timer2&#39;</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
*   这两个例子，看着好像只是把第一个定时器中的内容换了一下而已。
*   一个是为定时器timer3，一个是为Promise.then
*   但是如果是定时器timer3的话，它会在timer2后执行，而Promise.then却是在timer2之前执行。
*   你可以这样理解，Promise.then是微任务，它会被加入到本轮中的微任务列表，而定时器timer3是宏任务，它会被加入到下一轮的宏任务中。
*   理解完这两个案例，可以来看看下面一道比较难的题目了

### [#](#_2-4-题目三) 2.4 题目三
```javascript
Promise.resolve().then(() =&gt; {
    console.log(&#39;promise1&#39;);
    const timer2 = setTimeout(() =&gt; {
    console.log(&#39;timer2&#39;)
    }, 0)
});
const timer1 = setTimeout(() =&gt; {
    console.log(&#39;timer1&#39;)
    Promise.resolve().then(() =&gt; {
    console.log(&#39;promise2&#39;)
    })
}, 0)
console.log(&#39;start&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这道题稍微的难一些，在 promise 中执行定时器，又在定时器中执行 promise；</li><li>并且要注意的是，这里的 Promise 是直接 resolve 的，而之前的 new Promise 不一样。</li></ul><p><strong>因此过程分析为</strong></p><ul><li>刚开始整个脚本作为第一次宏任务来执行，我们将它标记为宏 1，从上至下执行</li><li>遇到 Promise.resolve().then 这个微任务，将 then 中的内容加入第一次的微任务队列标记为微 1</li><li>遇到定时器 timer1，将它加入下一次宏任务的延迟列表，标记为宏 2，等待执行(先不管里面是什么内容)</li><li>执行宏 1 中的同步代码 start</li><li>第一次宏任务(宏 1)执行完毕，检查第一次的微任务队列(微 1)，发现有一个 promise.then 这个微任务需要执行</li><li>执行打印出微 1 中同步代码 promise1，然后发现定时器 timer2，将它加入宏 2 的后面，标记为宏 3</li><li>第一次微任务队列(微 1)执行完毕，执行第二次宏任务(宏 2)，首先执行同步代码 timer1</li><li>然后遇到了 promise2 这个微任务，将它加入此次循环的微任务队列，标记为微 2</li><li>宏 2 中没有同步代码可执行了，查找本次循环的微任务队列(微 2)，发现了 promise2，执行它</li><li>第二轮执行完毕，执行宏 3，打印出 timer2</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;start&#39;
&#39;promise1&#39;
&#39;timer1&#39;
&#39;promise2&#39;
&#39;timer2&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>https://s.poetries.work/gitee/2020/03/2.png</p><h3 id="_2-5-题目四" tabindex="-1"><a class="header-anchor" href="#_2-5-题目四" aria-hidden="true">#</a> <a href="#_2-5-%E9%A2%98%E7%9B%AE%E5%9B%9B">#</a> 2.5 题目四</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise2 <span class="token operator">=</span> promise1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error!!!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">,</span> promise2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">,</span> promise2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>从上至下，先执行第一个 new Promise 中的函数，碰到 setTimeout 将它加入下一个宏任务列表</li><li>跳出 new Promise，碰到 promise1.then 这个微任务，但其状态还是为 pending，这里理解为先不执行</li><li>promise2 是一个新的状态为 pending 的 Promise</li><li>执行同步代码 console.log(&#39;promise1&#39;)，且打印出的 promise1 的状态为 pending</li><li>执行同步代码 console.log(&#39;promise2&#39;)，且打印出的 promise2 的状态为 pending</li><li>碰到第二个定时器，将其放入下一个宏任务列表</li><li>第一轮宏任务执行结束，并且没有微任务需要执行，因此执行第二轮宏任务</li><li>先执行第一个定时器里的内容，将 promise1 的状态改为 resolved 且保存结果并将之前的 promise1.then 推入微任务队列</li><li>该定时器中没有其它的同步代码可执行，因此执行本轮的微任务队列，也就是 promise1.then，它抛出了一个错误，且将 promise2 的状态设置为了 rejected</li><li>第一个定时器执行完毕，开始执行第二个定时器中的内容</li><li>打印出&#39;promise1&#39;，且此时 promise1 的状态为 resolved</li><li>打印出&#39;promise2&#39;，且此时 promise2 的状态为 rejected</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;promise1&#39; Promise{&lt;pending&gt;}
&#39;promise2&#39; Promise{&lt;pending&gt;}
test5.html:102 Uncaught (in promise) Error: error!!! at test.html:102
&#39;promise1&#39; Promise{&lt;resolved&gt;: &quot;success&quot;}
&#39;promise2&#39; Promise{&lt;rejected&gt;: Error: error!!!}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-6-题目五" tabindex="-1"><a class="header-anchor" href="#_2-6-题目五" aria-hidden="true">#</a> <a href="#_2-6-%E9%A2%98%E7%9B%AE%E4%BA%94">#</a> 2.6 题目五</h3><p>如果你上面这道题搞懂了之后，我们就可以来做做这道了，你应该能很快就给出答案：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1里的内容&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise2 <span class="token operator">=</span> promise1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error!!!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">,</span> promise2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">,</span> promise2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;promise1 里的内容&#39;
&#39;promise1&#39; Promise{&lt;pending&gt;}
&#39;promise2&#39; Promise{&lt;pending&gt;}
&#39;timer1&#39;
test5.html:102 Uncaught (in promise) Error: error!!! at test.html:102
&#39;timer2&#39;
&#39;promise1&#39; Promise{&lt;resolved&gt;: &quot;success&quot;}
&#39;promise2&#39; Promise{&lt;rejected&gt;: Error: error!!!}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="#_3-promise%E4%B8%AD%E7%9A%84then%E3%80%81catch%E3%80%81finally">#</a> 3. Promise 中的 then、catch、finally</p><ul><li>Promise 的状态一经改变就不能再改变</li><li>.then 和.catch 都会返回一个新的 Promise</li><li>catch 不管被连接到哪里，都能捕获上层的错误</li><li>在 Promise 中，返回任意一个非 promise 的值都会被包裹成 promise 对象，例如 return 2 会被包装为 return Promise.resolve(2)</li><li>Promise 的 .then 或者 .catch 可以被调用多次, 当如果 Promise 内部的状态一经改变，并且有了一个值，那么后续每次调用.then 或者.catch 的时候都会直接拿到该值</li><li>.then 或者 .catch 中 return 一个 error 对象并不会抛出错误，所以不会被后续的 .catch 捕获</li><li>.then 或 .catch 返回的值不能是 promise 本身，否则会造成死循环</li><li>.then 或者 .catch 的参数期望是函数，传入非函数则会发生值穿透</li><li>.then 方法是能接收两个参数的，第一个是处理成功的函数，第二个是处理失败的函数，再某些时候你可以认为 catch 是.then 第二个参数的简便写法</li><li>.finally 方法也是返回一个 Promise，他在 Promise 结束的时候，无论结果为 resolved 还是 rejected，都会执行里面的回调函数</li></ul><h3 id="_3-1-题目一" tabindex="-1"><a class="header-anchor" href="#_3-1-题目一" aria-hidden="true">#</a> <a href="#_3-1-%E9%A2%98%E7%9B%AE%E4%B8%80">#</a> 3.1 题目一</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;success1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;success2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;then: &quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;catch: &quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>`javascript
<span class="token string">&quot;then: success1&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>构造函数中的 resolve 或 reject 只有第一次执行有效，多次调用没有任何作用 。验证了第一个结论，Promise 的状态一经改变就不能再改变</p></blockquote><h3 id="_3-2-题目二" tabindex="-1"><a class="header-anchor" href="#_3-2-题目二" aria-hidden="true">#</a> <a href="#_3-2-%E9%A2%98%E7%9B%AE%E4%BA%8C">#</a> 3.2 题目二</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;success2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;then: &#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;then: &#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;catch: &#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;then: &#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&quot;catch: &quot; &quot;error&quot; &quot;then3: &quot; undefined</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
&gt; 验证了第三个结论，catch不管被连接到哪里，都能捕获上层的错误。

### [#](#_3-3-题目三) 3.3 题目三
```javascript
Promise.resolve(1)
    .then(res =&gt; {
    console.log(res);
    return 2;
    })
    .catch(err =&gt; {
    return 3;
    })
    .then(res =&gt; {
    console.log(res);
    });

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1 2</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
*   Promise可以链式调用，不过promise 每次调用 .then 或者 .catch 都会返回一个新的 promise，从而实现了链式调用, 它并不像一般我们任务的链式调用一样return this
*   上面的输出结果之所以依次打印出1和2，那是因为resolve(1)之后走的是第一个then方法，并没有走catch里，所以第二个then中的res得到的实际上是第一个then的返回值
*   且return 2会被包装成resolve(2)

### [#](#_3-4-题目四) 3.4 题目四

如果把3.3中的Promise.resolve(1)改为Promise.reject(1)又会怎么样呢？
```javascript
Promise.reject(1)
    .then(res =&gt; {
    console.log(res);
    return 2;
    })
    .catch(err =&gt; {
    console.log(err);
    return 3
    })
    .then(res =&gt; {
    console.log(res);
    });

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1 3</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
&gt; 结果打印的当然是 1 和 3啦，因为reject(1)此时走的就是catch，且第二个then中的res得到的就是catch中的返回值

### [#](#_3-5-题目五) 3.5 题目五
```javascript
const promise = new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
    console.log(&#39;timer&#39;)
    resolve(&#39;success&#39;)
    }, 1000)
})
const start = Date.now();
promise.then(res =&gt; {
    console.log(res, Date.now() - start)
})
promise.then(res =&gt; {
    console.log(res, Date.now() - start)
})

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&#39;timer&#39; success 1001 success 1002</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
当然，如果你足够快的话，也可能两个都是1001。 Promise 的 .then 或者 .catch 可以被调用多次，但这里 Promise 构造函数只执行一次。或者说 promise 内部状态一经改变，并且有了一个值，那么后续每次调用 .then 或者 .catch 都会直接拿到该值

### [#](#_3-6-题目六) 3.6 题目六
```javascript
Promise.resolve().then(() =&gt; {
    return new Error(&#39;error!!!&#39;)
}).then(res =&gt; {
    console.log(&quot;then: &quot;, res)
}).catch(err =&gt; {
    console.log(&quot;catch: &quot;, err)
})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>你可能想到的是进入.catch 然后被捕获了错误。</li><li>结果并不是这样的，它走的是.then 里面：</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;then: &quot; &quot;Error: error!!!&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>这也验证了第 4 点和第 6 点，返回任意一个非 promise 的值都会被包裹成 promise 对象，因此这里的 return new Error(&#39;error!!!&#39;)也被包裹成了 return Promise.resolve(new Error(&#39;error!!!&#39;))</p></blockquote><p>当然如果你抛出一个错误的话，可以用下面 👇 两的任意一种：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error!!!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error!!!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-7-题目七" tabindex="-1"><a class="header-anchor" href="#_3-7-题目七" aria-hidden="true">#</a> <a href="#_3-7-%E9%A2%98%E7%9B%AE%E4%B8%83">#</a> 3.7 题目七</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> promise<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>.then 或 .catch 返回的值不能是 promise 本身，否则会造成死循环。</p></blockquote><p>因此结果会报错：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">Uncaught</span> <span class="token punctuation">(</span><span class="token keyword">in</span> promise<span class="token punctuation">)</span> TypeError<span class="token operator">:</span> Chaining cycle detected <span class="token keyword">for</span> promise #<span class="token operator">&lt;</span>Promise<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-8-题目八" tabindex="-1"><a class="header-anchor" href="#_3-8-题目八" aria-hidden="true">#</a> <a href="#_3-8-%E9%A2%98%E7%9B%AE%E5%85%AB">#</a> 3.8 题目八</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>其实你只要记住原则 8：.then 或者 .catch 的参数期望是函数，传入非函数则会发生值穿透。</li><li>第一个 then 和第二个 then 中传入的都不是函数，一个是数字类型，一个是对象类型，因此发生了穿透，将 resolve(1) 的值直接传到最后一个 then 里。</li></ul><p>所以输出结果为：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-9-题目九" tabindex="-1"><a class="header-anchor" href="#_3-9-题目九" aria-hidden="true">#</a> <a href="#_3-9-%E9%A2%98%E7%9B%AE%E4%B9%9D">#</a> 3.9 题目九</h3><p>下面来介绍一下.then 函数中的两个参数。</p><p>第一个参数是用来处理 Promise 成功的函数，第二个则是处理失败的函数。 也就是说 Promise.resolve(&#39;1&#39;)的值会进入成功的函数，Promise.reject(&#39;2&#39;)的值会进入失败的函数。</p><p>让我们来看看这个例子</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;err!!!&#39;</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
		<span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;catch&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里的执行结果是：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;error&#39; &#39;error!!!&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>它进入的是 then()中的第二个参数里面，而如果把第二个参数去掉，就进入了 catch()中：</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;err!!!&#39;</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;catch&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行结果：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;catch&#39; &#39;error!!!&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>但是有一个问题，如果是这个案例呢？</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
		<span class="token keyword">function</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error!!!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token keyword">function</span> <span class="token function">fail1</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;fail1&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">fail2</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;fail2&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>由于 Promise 调用的是 resolve()，因此.then()执行的应该是 success()函数，可是 success()函数抛出的是一个错误，它会被后面的 catch()给捕获到，而不是被 fail1 函数捕获。</p></blockquote><p>因此执行结果为：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>fail2 Error: error!!!
            at success
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-10-题目十" tabindex="-1"><a class="header-anchor" href="#_3-10-题目十" aria-hidden="true">#</a> <a href="#_3-10-%E9%A2%98%E7%9B%AE%E5%8D%81">#</a> 3.10 题目十</h3><p>接着来看看.finally()，这个功能一般不太用在面试中，不过如果碰到了你也应该知道该如何处理。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">promise1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">promise2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">promise1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;finally1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">promise2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;finally2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;promise1&#39;
&#39;1&#39;
&#39;error&#39;
&#39;finally1&#39;
&#39;finally2&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-promise-中的-all-和-race" tabindex="-1"><a class="header-anchor" href="#_4-promise-中的-all-和-race" aria-hidden="true">#</a> <a href="#_4-promise%E4%B8%AD%E7%9A%84all%E5%92%8Crace">#</a> 4. Promise 中的 all 和 race</h2><ul><li>在做下面 👇 的题目之前，让我们先来了解一下 Promise.all()和 Promise.race()的用法。</li><li>通俗来说，.all()的作用是接收一组异步任务，然后并行执行异步任务，并且在所有异步操作执行完后才执行回调。</li><li><code>.race()</code>的作用也是接收一组异步任务，然后并行执行异步任务，只保留取第一个执行完成的异步操作的结果，其他的方法仍在执行，不过执行结果会被抛弃。</li></ul><p>来看看题目一。</p><h3 id="_4-1-题目一" tabindex="-1"><a class="header-anchor" href="#_4-1-题目一" aria-hidden="true">#</a> <a href="#_4-1-%E9%A2%98%E7%9B%AE%E4%B8%80">#</a> 4.1 题目一</h3><p>我们知道如果直接在脚本文件中定义一个 Promise，它构造函数的第一个参数是会立即执行的，就像这样：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;立即打印&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>控制台中会立即打印出 “立即打印”。</p><p>因此为了控制它什么时候执行，我们可以用一个函数包裹着它，在需要它执行的时候，调用这个函数就可以了：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">runP1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;立即打印&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">runP1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用此函数时才执行</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>OK 👌， 让我们回归正题。 现在来构建这么一个函数：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>该函数传入一个值 x，然后间隔一秒后打印出这个 x。</li><li>如果我用<code>.all()</code>来执行它会怎样呢？</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>先来想想此段代码在浏览器中会如何执行？</li><li>没错，当你打开页面的时候，在间隔一秒后，控制台会同时打印出 1, 2, 3，还有一个数组[1, 2, 3]。</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1
2
3
[1, 2, 3]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>所以你现在能理解这句话的意思了吗：有了 all，你就可以并行执行多个异步操作，并且在一个回调中处理所有的返回数据</p></blockquote><ul><li>.all()后面的.then()里的回调函数接收的就是所有异步操作的结果。</li><li>而且这个结果中数组的顺序和 Promise.all()接收到的数组顺序一致！！！</li></ul><blockquote><p>有一个场景是很适合用这个的，一些游戏类的素材比较多的应用，打开网页时，预先加载需要用到的各种资源如图片、flash 以及各种静态文件。所有的都加载完后，我们再进行页面的初始化。</p></blockquote><h3 id="_4-2-题目二" tabindex="-1"><a class="header-anchor" href="#_4-2-题目二" aria-hidden="true">#</a> <a href="#_4-2-%E9%A2%98%E7%9B%AE%E4%BA%8C">#</a> 4.2 题目二</h3><p>我新增了一个 runReject 函数，它用来在 1000 * x 秒后 reject 一个错误。</p><p>同时.catch()函数能够捕获到.all()里最先的那个异常，并且只执行一次。</p><p>想想这道题会怎样执行呢 🤔️？</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> rej</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">rej</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> x<span class="token punctuation">)</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1
3
// 2s后输出
2
Error: 2
// 4s后输出
4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>没错，就像我之前说的，.catch 是会捕获最先的那个异常，在这道题目中最先的异常就是 runReject(2)的结果。</p><p>另外，如果一组异步操作中有一个异常都不会进入.then()的第一个回调函数参数中。</p><p>注意，为什么不说是不进入.then()中呢 🤔️？</p><p>哈哈，大家别忘了.then()方法的第二个参数也是可以捕获错误的：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
	<span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-题目三" tabindex="-1"><a class="header-anchor" href="#_4-3-题目三" aria-hidden="true">#</a> <a href="#_4-3-%E9%A2%98%E7%9B%AE%E4%B8%89">#</a> 4.3 题目三</h3><p>所以使用.race()方法，它只会获取最先执行完成的那个结果，其它的异步任务虽然也会继续进行下去，不过 race 已经不管那些任务的结果了。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;result: &#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1
&#39;result: &#39; 1
2
3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这个 race 有什么用呢？使用场景还是很多的，比如我们可以用 race 给某个异步请求设置超时时间，并且在超时后执行相应的操作</p></blockquote><h3 id="_4-4-题目四" tabindex="-1"><a class="header-anchor" href="#_4-4-题目四" aria-hidden="true">#</a> <a href="#_4-4-%E9%A2%98%E7%9B%AE%E5%9B%9B">#</a> 4.4 题目四</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> rej</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">rej</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> x<span class="token punctuation">)</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runReject</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;result: &#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>遇到错误的话，也是一样的，在这道题中，<code>runReject(0)</code>最先执行完，所以进入了<code>catch()</code>中：</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>0
&#39;Error: 0&#39;
1
2
3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>总结</strong></p><blockquote><p>好的，让我们来总结一下.then()和.race()吧，😄</p></blockquote><ul><li>Promise.all()的作用是接收一组异步任务，然后并行执行异步任务，并且在所有异步操作执行完后才执行回调。</li><li>.race()的作用也是接收一组异步任务，然后并行执行异步任务，只保留取第一个执行完成的异步操作的结果，其他的方法仍在执行，不过执行结果会被抛弃。</li><li>Promise.all().then()结果中数组的顺序和 Promise.all()接收到的数组顺序一致</li></ul><h2 id="_5-async-await-的几道题" tabindex="-1"><a class="header-anchor" href="#_5-async-await-的几道题" aria-hidden="true">#</a> <a href="#_5-async-await%E7%9A%84%E5%87%A0%E9%81%93%E9%A2%98">#</a> 5. async/await 的几道题</h2><blockquote><p>既然谈到了 Promise，那就肯定得再说说 async/await，在很多时候 async 和 Promise 的解法差不多，又有些不一样。不信你来看看题目一。</p></blockquote><h3 id="_5-1-题目一" tabindex="-1"><a class="header-anchor" href="#_5-1-题目一" aria-hidden="true">#</a> <a href="#_5-1-%E9%A2%98%E7%9B%AE%E4%B8%80">#</a> 5.1 题目一</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这道基础题输出的是啥？</p><p>答案：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;async1 start&#39;
&#39;async2&#39;
&#39;start&#39;
&#39;async1 end&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>首先一进来是创建了两个函数的，我们先不看函数的创建位置，而是看它的调用位置 发现 async1 函数被调用了，然后去看看调用的内容</li><li>执行函数中的同步代码 async1 start，之后碰到了 await，它会阻塞 async1 后面代码的执行，因此会先去执行 async2 中的同步代码 async2，然后跳出 async1</li><li>跳出 async1 函数后，执行同步代码 start</li><li>在一轮宏任务全部执行完之后，再来执行刚刚 await 后面的内容 async1 end。</li></ul><p>（在这里，你可以理解为 await 后面的内容就相当于放到了 Promise.then 的里面）</p><p>来看看区别，如果我们把 await async2()换成一个 new Promise 呢？</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时的执行结果为：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;async start&#39;
&#39;promise&#39;
&#39;async1 end&#39;
&#39;start&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>可以看到 new Promise()并不会阻塞后面的同步代码 async1 end 的执行。</p></blockquote><h3 id="_5-2-题目二" tabindex="-1"><a class="header-anchor" href="#_5-2-题目二" aria-hidden="true">#</a> <a href="#_5-2-%E9%A2%98%E7%9B%AE%E4%BA%8C">#</a> 5.2 题目二</h3><ul><li>现在将 async 结合定时器看看。</li><li>给题目一中的 async2 函数中加上一个定时器</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>没错，定时器始终还是最后执行的，它被放到下一条宏任务的延迟队列中。</p><p>答案：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;async1 start&#39;
&#39;async2&#39;
&#39;start&#39;
&#39;async1 end&#39;
&#39;timer&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-题目三" tabindex="-1"><a class="header-anchor" href="#_5-3-题目三" aria-hidden="true">#</a> <a href="#_5-3-%E9%A2%98%E7%9B%AE%E4%B8%89">#</a> 5.3 题目三</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其实如果你能做到这里了，说明你前面的那些知识点也都掌握了，我就不需要太过详细的步骤分析了。</p><p>直接公布答案吧：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;async1 start&#39;
&#39;async2&#39;
&#39;start&#39;
&#39;async1 end&#39;
&#39;timer2&#39;
&#39;timer3&#39;
&#39;timer1&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>定时器谁先执行，你只需要关注谁先被调用的以及延迟时间是多少，这道题中延迟时间都是 0，所以只要关注谁先被调用的。</p></blockquote><h3 id="_5-4-题目四" tabindex="-1"><a class="header-anchor" href="#_5-4-题目四" aria-hidden="true">#</a> <a href="#_5-4-%E9%A2%98%E7%9B%AE%E5%9B%9B">#</a> 5.4 题目四</h3><ul><li>正常情况下，async 中的 await 命令是一个 Promise 对象，返回该对象的结果。</li><li>但如果不是 Promise 对象的话，就会直接返回对应的值，相当于 Promise.resolve()</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// return await 1234</span>
	<span class="token comment">// 等同于</span>
	<span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>123
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-5-题目五" tabindex="-1"><a class="header-anchor" href="#_5-5-题目五" aria-hidden="true">#</a> <a href="#_5-5-%E9%A2%98%E7%9B%AE%E4%BA%94">#</a> 5.5 题目五</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;srcipt start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;srcipt end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>在 async1 中 await 后面的 Promise 是没有返回值的，也就是它的状态始终是 pending 状态，因此相当于一直在 await，await，await 却始终没有响应...</p></blockquote><p>所以在 await 之后的内容是不会执行的，也包括 async1 后面的 .then。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;script start&#39;
&#39;async1 start&#39;
&#39;promise1&#39;
&#39;script end&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-6-题目六" tabindex="-1"><a class="header-anchor" href="#_5-6-题目六" aria-hidden="true">#</a> <a href="#_5-6-%E9%A2%98%E7%9B%AE%E5%85%AD">#</a> 5.6 题目六</h3><p>让我们给 5.5 中的 Promise 加上 resolve：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;promise1 resolve&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;srcipt start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;srcipt end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在 Promise 有了返回值了，因此 await 后面的内容将会被执行：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;script start&#39;
&#39;async1 start&#39;
&#39;promise1&#39;
&#39;script end&#39;
&#39;promise1 resolve&#39;
&#39;async1 success&#39;
&#39;async1 end&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-7-题目七" tabindex="-1"><a class="header-anchor" href="#_5-7-题目七" aria-hidden="true">#</a> <a href="#_5-7-%E9%A2%98%E7%9B%AE%E4%B8%83">#</a> 5.7 题目七</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;promise resolve&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;srcipt start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这道题应该也不难，不过有一点需要注意的，在 async1 中的 new Promise 它的 resovle 的值和 async1().then()里的值是没有关系的，很多小伙伴可能看到 resovle(&#39;promise resolve&#39;)就会误以为是 async1().then()中的返回值。</p><p>因此这里的执行结果为：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;script start&#39;
&#39;async1 start&#39;
&#39;promise1&#39;
&#39;promise2&#39;
&#39;async1 success&#39;
&#39;sync1 end&#39;
&#39;timer&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-8-题目八" tabindex="-1"><a class="header-anchor" href="#_5-8-题目八" aria-hidden="true">#</a> <a href="#_5-8-%E9%A2%98%E7%9B%AE%E5%85%AB">#</a> 5.8 题目八</h3><p>我们再来看一道头条曾经的面试题：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setTimeout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&#39;script start&#39; &#39;async1 start&#39; &#39;async2&#39; &#39;promise1&#39; &#39;script end&#39; &#39;async1 end&#39; &#39;promise2&#39; &#39;setTimeout&#39;</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
(这道题最后async1 end和promise2的顺序其实在网上饱受争议，我这里使用浏览器Chrome V80，Node v12.16.1的执行结果都是上面这个答案)

### [#](#_5-9-题目九) 5.9 题目九
```javascript
async function testSometing() {
    console.log(&quot;执行testSometing&quot;);
    return &quot;testSometing&quot;;
}

async function testAsync() {
    console.log(&quot;执行testAsync&quot;);
    return Promise.resolve(&quot;hello async&quot;);
}

async function test() {
    console.log(&quot;test start...&quot;);
    const v1 = await testSometing();
    console.log(v1);
    const v2 = await testAsync();
    console.log(v2);
    console.log(v1, v2);
}

test();

var promise = new Promise(resolve =&gt; {
    console.log(&quot;promise start...&quot;);
    resolve(&quot;promise&quot;);
});
promise.then(val =&gt; console.log(val));

console.log(&quot;test end...&quot;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>答案：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;test start...&#39;
&#39;执行testSometing&#39;
&#39;promise start...&#39;
&#39;test end...&#39;
&#39;testSometing&#39;
&#39;执行testAsync&#39;
&#39;promise&#39;
&#39;hello async&#39;
&#39;testSometing&#39; &#39;hello async&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-async-处理错误" tabindex="-1"><a class="header-anchor" href="#_6-async-处理错误" aria-hidden="true">#</a> <a href="#_6-async%E5%A4%84%E7%90%86%E9%94%99%E8%AF%AF">#</a> 6. async 处理错误</h2><h3 id="_6-1-题目一" tabindex="-1"><a class="header-anchor" href="#_6-1-题目一" aria-hidden="true">#</a> <a href="#_6-1-%E9%A2%98%E7%9B%AE%E4%B8%80">#</a> 6.1 题目一</h3><blockquote><p>在 async 中，如果 await 后面的内容是一个异常或者错误的话，会怎样呢？</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token string">&#39;async1 success&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例如这道题中，await 后面跟着的是一个状态为 rejected 的 promise。</p><p>如果在 async 函数中抛出了错误，则终止错误结果，不会继续向下执行。</p><p>所以答案为：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;async2&#39;
Uncaught (in promise) error
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>如果改为 throw new Error 也是一样的：</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error!!!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token string">&#39;async1 success&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果为：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;async1&#39;
Uncaught (in promise) Error: error!!!
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-题目二" tabindex="-1"><a class="header-anchor" href="#_6-2-题目二" aria-hidden="true">#</a> <a href="#_6-2-%E9%A2%98%E7%9B%AE%E4%BA%8C">#</a> 6.2 题目二</h3><blockquote><p>如果想要使得错误的地方不影响 async 函数后续的执行的话，可以使用 try catch</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;error!!!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;async1 success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里的结果为：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;script start&#39;
&#39;error!!!&#39;
&#39;async1&#39;
&#39;async1 success&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>或者你可以直接在 Promise.reject 后面跟着一个 catch()方法：</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// try {</span>
	<span class="token comment">//   await Promise.reject(&#39;error!!!&#39;)</span>
	<span class="token comment">// } catch(e) {</span>
	<span class="token comment">//   console.log(e)</span>
	<span class="token comment">// }</span>
	<span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;error!!!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;async1 success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-综合题" tabindex="-1"><a class="header-anchor" href="#_7-综合题" aria-hidden="true">#</a> <a href="#_7-%E7%BB%BC%E5%90%88%E9%A2%98">#</a> 7. 综合题</h2><h3 id="_7-1-题目一" tabindex="-1"><a class="header-anchor" href="#_7-1-题目一" aria-hidden="true">#</a> <a href="#_7-1-%E9%A2%98%E7%9B%AE%E4%B8%80">#</a> 7.1 题目一</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">first</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
	<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>第一段代码定义的是一个函数，所以我们得看看它是在哪执行的，发现它在 4 之前，所以可以来看看 first 函数里面的内容了。(这一步有点类似于题目 1.5)</li><li>函数 first 返回的是一个 new Promise()，因此先执行里面的同步代码 3</li><li>接着又遇到了一个 new Promise()，直接执行里面的同步代码 7</li><li>执行完 7 之后，在 p 中，遇到了一个定时器，先将它放到下一个宏任务队列里不管它，接着向下走</li><li>碰到了 resolve(1)，这里就把 p 的状态改为了 resolved，且返回值为 1，不过这里也先不执行</li><li>跳出 p，碰到了 resolve(2)，这里的 resolve(2)，表示的是把 first 函数返回的那个 Promise 的状态改了，也先不管它。</li><li>然后碰到了 p.then，将它加入本次循环的微任务列表，等待执行</li><li>跳出 first 函数，遇到了 first().then()，将它加入本次循环的微任务列表(p.then 的后面执行)</li><li>然后执行同步代码 4</li><li>本轮的同步代码全部执行完毕，查找微任务列表，发现 p.then 和 first().then()，依次执行，打印出 1 和 2</li><li>本轮任务执行完毕了，发现还有一个定时器没有跑完，接着执行这个定时器里的内容，执行同步代码 5</li><li>然后又遇到了一个<code>resolve(6)</code>，它是放在 p 里的，但是 p 的状态在之前已经发生过改变了，因此这里就不会再改变，也就是说<code>resolve(6)</code>相当于没任何用处，因此打印出来的 p 为<code>Promise{&lt;resolved&gt;: 1}</code>。(这一步类似于题目 3.1)</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>3
7
4
1
2
5
Promise{&lt;resolved&gt;: 1}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-2-题目二" tabindex="-1"><a class="header-anchor" href="#_7-2-题目二" aria-hidden="true">#</a> <a href="#_7-2-%E9%A2%98%E7%9B%AE%E4%BA%8C">#</a> 7.2 题目二</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">async1</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;async1 end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token string">&#39;async1 success&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意的知识点：</strong></p><ul><li>async 函数中 await 的 new Promise 要是没有返回值的话则不执行后面的内容(类似题 5.5)</li><li>.then 函数中的参数期待的是函数，如果不是函数的话会发生穿透(类似题 3.8 )</li><li>注意定时器的延迟时间</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;script start&#39;
&#39;async1&#39;
&#39;promise1&#39;
&#39;script end&#39;
1
&#39;timer2&#39;
&#39;timer1&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3-题目三" tabindex="-1"><a class="header-anchor" href="#_7-3-题目三" aria-hidden="true">#</a> <a href="#_7-3-%E9%A2%98%E7%9B%AE%E4%B8%89">#</a> 7.3 题目三</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;resolve3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;resovle1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;resolve2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;finally&#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意的知识点：</strong></p><ul><li>Promise 的状态一旦改变就无法改变(类似题目 3.5)</li><li>finally 不管 Promise 的状态是 resolved 还是 rejected 都会执行，且它的回调函数是没有参数的(类似 3.10)</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;resolve1&#39;
&#39;finally&#39; undefined
&#39;timer1&#39;
Promise{&lt;resolved&gt;: undefined}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-几道大厂的面试题" tabindex="-1"><a class="header-anchor" href="#_8-几道大厂的面试题" aria-hidden="true">#</a> <a href="#_8-%E5%87%A0%E9%81%93%E5%A4%A7%E5%8E%82%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98">#</a> 8. 几道大厂的面试题</h2><h3 id="_8-1-使用-promise-实现每隔-1-秒输出-1-2-3" tabindex="-1"><a class="header-anchor" href="#_8-1-使用-promise-实现每隔-1-秒输出-1-2-3" aria-hidden="true">#</a> <a href="#_8-1-%E4%BD%BF%E7%94%A8promise%E5%AE%9E%E7%8E%B0%E6%AF%8F%E9%9A%941%E7%A7%92%E8%BE%93%E5%87%BA1-2-3">#</a> 8.1 使用 Promise 实现每隔 1 秒输出 1,2,3</h3><blockquote><p>这道题比较简单的一种做法是可以用 Promise 配合着 reduce 不停的在 promise 后面叠加.then，请看下面的代码：</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者你可以更简单一点写：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
	<span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
		p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-2-使用-promise-实现红绿灯交替重复亮" tabindex="-1"><a class="header-anchor" href="#_8-2-使用-promise-实现红绿灯交替重复亮" aria-hidden="true">#</a> <a href="#_8-2-%E4%BD%BF%E7%94%A8promise%E5%AE%9E%E7%8E%B0%E7%BA%A2%E7%BB%BF%E7%81%AF%E4%BA%A4%E6%9B%BF%E9%87%8D%E5%A4%8D%E4%BA%AE">#</a> 8.2 使用 Promise 实现红绿灯交替重复亮</h3><p>红灯 3 秒亮一次，黄灯 2 秒亮一次，绿灯 1 秒亮一次；如何让三个灯不断交替重复亮灯？（用 Promise 实现）三个亮灯函数已经存在：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">red</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">green</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;green&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">yellow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;yellow&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>答案：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">red</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">green</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;green&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">yellow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;yellow&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">light</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">timer<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">step</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">light</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> red<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">light</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">light</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-3-实现-mergepromise-函数" tabindex="-1"><a class="header-anchor" href="#_8-3-实现-mergepromise-函数" aria-hidden="true">#</a> <a href="#_8-3-%E5%AE%9E%E7%8E%B0mergepromise%E5%87%BD%E6%95%B0">#</a> 8.3 实现 mergePromise 函数</h3><blockquote><p>实现 mergePromise 函数，把传进去的数组按顺序先后执行，并且把返回的数据先后放到数组 data 中。</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">time</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">timer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">ajax1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
	<span class="token function">time</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">ajax2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
	<span class="token function">time</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">ajax3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
	<span class="token function">time</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">mergePromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 在这里写代码</span>
<span class="token punctuation">}</span>

<span class="token function">mergePromise</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ajax1<span class="token punctuation">,</span> ajax2<span class="token punctuation">,</span> ajax3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;done&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// data 为 [1, 2, 3]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 要求分别输出</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// 3</span>
<span class="token comment">// done</span>
<span class="token comment">// [1, 2, 3]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这道题有点类似于 Promise.all()，不过.all()不需要管执行顺序，只需要并发执行就行了。但是这里需要等上一个执行完毕之后才能执行下一个。</p><p><strong>解题思路：</strong></p><ul><li>定义一个数组 data 用于保存所有异步操作的结果</li><li>初始化一个 const promise = Promise.resolve()，然后循环遍历数组，在 promise 后面添加执行 ajax 任务，同时要将添加的结果重新赋值到 promise 上</li></ul><p>答案：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mergePromise</span><span class="token punctuation">(</span><span class="token parameter">ajaxArray</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 存放每个ajax的结果</span>
	<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> promise <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ajaxArray<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ajax</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 第一次的then为了用来调用ajax</span>
		<span class="token comment">// 第二次的then是为了获取ajax的结果</span>
		promise <span class="token operator">=</span> promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>ajax<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> data<span class="token punctuation">;</span> <span class="token comment">// 把每次的结果返回</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 最后得到的promise它的值就是data</span>
	<span class="token keyword">return</span> promise<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-4-封装一个异步加载图片的方法" tabindex="-1"><a class="header-anchor" href="#_8-4-封装一个异步加载图片的方法" aria-hidden="true">#</a> <a href="#_8-4-%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87%E7%9A%84%E6%96%B9%E6%B3%95">#</a> 8.4 封装一个异步加载图片的方法</h3><p>这个相对简单一些，只需要在图片的 onload 函数中，使用 resolve 返回一下就可以了。 来看看具体代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">loadImg</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;一张图片加载完成&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Could not load image at&#39;</span> <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-5-限制异步操作的并发个数并尽可能快的完成全部" tabindex="-1"><a class="header-anchor" href="#_8-5-限制异步操作的并发个数并尽可能快的完成全部" aria-hidden="true">#</a> <a href="#_8-5-%E9%99%90%E5%88%B6%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%E7%9A%84%E5%B9%B6%E5%8F%91%E4%B8%AA%E6%95%B0%E5%B9%B6%E5%B0%BD%E5%8F%AF%E8%83%BD%E5%BF%AB%E7%9A%84%E5%AE%8C%E6%88%90%E5%85%A8%E9%83%A8">#</a> 8.5 限制异步操作的并发个数并尽可能快的完成全部</h3><p>有 8 个图片资源的 url，已经存储在数组 urls 中。</p><blockquote><p>urls 类似于[&#39;https://image1.png&#39;, &#39;https://image2.png&#39;, ....]</p></blockquote><p>而且已经有一个函数 function loadImg，输入一个 url 链接，返回一个 Promise，该 Promise 在图片下载完成的时候 resolve，下载失败则 reject。</p><p>但有一个要求，任何时刻同时下载的链接数量不可以超过 3 个。</p><p>请写一段代码实现这个需求，要求尽可能快速地将所有图片下载完成。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> urls <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting1.png&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting2.png&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting3.png&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting4.png&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting5.png&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn6.png&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn7.png&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn8.png&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">loadImg</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;一张图片加载完成&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Could not load image at&#39;</span> <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>看到这道题时，我最开始的想法是：</p><p>拿到 urls，然后将这个数组每 3 个<code>url</code>一组创建成一个二维数组 然后用<code>Promise.all()</code>每次加载一组 url（也就是并发 3 个），这一组加载完再加载下一组。</p><blockquote><p>这个想法从技术上说并不难实现，有点类似于第三题。不过缺点也明显，那就是每次都要等到上一组全部加载完之后，才加载下一组，那如果上一组有 2 个已经加载完了，还有 1 个特别慢，还在加载，要等这个慢的也加载完才能进入下一组。这明显会照常卡顿，影响加载效率 `</p></blockquote><p>想法一 💡：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">limitLoad</span><span class="token punctuation">(</span><span class="token parameter">urls<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> limit</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 存储所有的加载结果</span>
	<span class="token keyword">let</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token function-variable function">handleUrls</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">urls</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 这个函数是为了生成3个url为一组的二维数组</span>
		<span class="token keyword">const</span> doubleDim <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> len <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>urls<span class="token punctuation">.</span>length <span class="token operator">/</span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Math.ceil(8 / 3) = 3</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3, 表示二维数组的长度为3</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			doubleDim<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>urls<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i <span class="token operator">*</span> limit<span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> limit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> doubleDim<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token function-variable function">ajaxImage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">urlCollect</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 将一组字符串url 转换为一个加载图片的数组</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>urlCollect<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> urlCollect<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handler</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> doubleDim <span class="token operator">=</span> <span class="token function">handleUrls</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 得到3个url为一组的二维数组</span>
	doubleDim<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">urlCollect</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		p <span class="token operator">=</span> p
			<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token function">ajaxImage</span><span class="token punctuation">(</span>urlCollect<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将每次的结果展开，并存储到data中 (res为：[img, img, img])</span>
				<span class="token keyword">return</span> data<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">limitLoad</span><span class="token punctuation">(</span>urls<span class="token punctuation">,</span> loadImg<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 最终得到的是长度为8的img数组: [img, img, img, ...]</span>
	res<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/2xiao/leetcode-js/edit/master/src/interview/promise.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 827574297wxxtb@sina.com">2xiao</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="自测 100 题" class="vp-link nav-link prev nav-link prev" href="/interview/qa100.html"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><span class="font-icon icon iconfont icon-strong" style=""></span>自测 100 题</div></a><!----></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2024 2xiao</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-GnK0vSxb.js" defer></script>
  </body>
</html>
